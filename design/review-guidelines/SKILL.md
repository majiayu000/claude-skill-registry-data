---
name: review-guidelines
description: コードレビューの基準とチェックリスト
---

# コードレビューガイドライン

## レビューの優先順位

1. **セキュリティ**（最優先）
2. **正確性**（バグがないか）
3. **パフォーマンス**
4. **可読性・保守性**
5. **スタイル**

## チェックリスト

### 🔒 セキュリティ

- [ ] XSS 対策（ユーザー入力のエスケープ）
- [ ] SQL インジェクション対策
- [ ] CSRF 対策
- [ ] 認証・認可の適切な実装
- [ ] 機密情報のハードコードなし
- [ ] 適切なエラーメッセージ（内部情報の露出なし）

### ✅ 正確性

- [ ] ロジックが正しいか
- [ ] エッジケースの考慮
- [ ] エラーハンドリングが適切か
- [ ] null/undefined のチェック

### ⚡ パフォーマンス

- [ ] 不要な再レンダリングがないか
- [ ] 適切なメモ化（useMemo, useCallback, computed）
- [ ] N+1 問題がないか
- [ ] 大きなデータの適切な処理

### 📖 可読性

- [ ] 変数名・関数名が意図を表しているか
- [ ] 複雑なロジックにコメントがあるか
- [ ] 関数が単一責任になっているか
- [ ] 適切な抽象化レベル

### 🎨 スタイル

- [ ] プロジェクトのコーディング規約に従っているか
- [ ] 一貫性のあるフォーマット
- [ ] 不要なコメントがないか

### ♿ アクセシビリティ

- [ ] 適切な ARIA 属性
- [ ] キーボード操作対応
- [ ] 色だけに依存しない情報伝達

## レビューコメントの書き方

### 良いコメントの例

```
🔴 [必須] このユーザー入力は XSS 攻撃に対して脆弱です。
`sanitizeHtml()` でエスケープしてください。

参考: https://owasp.org/www-community/xss-filter-evasion-cheatsheet
```

```
🟡 [提案] この処理は `useMemo` でメモ化すると
再レンダリング時のパフォーマンスが改善されます。
```

```
💡 [質問] この条件分岐の意図を教えてください。
コメントがあると後から理解しやすくなります。
```

### 避けるべきコメント

- 「これはダメ」（理由なし）
- 「なんでこうしたの？」（攻撃的）
- 細かいスタイルへの過度な指摘

## レビュー結果の表記

```
## レビュー結果

### 🔴 Critical（必須修正）
- [ファイル:行] 問題の説明と修正案

### 🟡 Warning（推奨修正）
- [ファイル:行] 問題の説明と修正案

### 💡 Suggestion（任意）
- 改善提案

### 🟢 Good（良い点）
- 良かった点
```
