---
name: analyzing-new-energy-trucks
description: åˆ†ææ–°èƒ½æºè´§è½¦ä¿é™©ä¸šåŠ¡æ•°æ®ï¼Œè¯†åˆ«é«˜é£é™©æœºæ„å’Œä¸šåŠ¡ç±»å‹ã€‚åœ¨å¤„ç†æ–°èƒ½æºè´§è½¦æ‰¿ä¿æ•°æ®ã€é£é™©è¯„ä¼°æŠ¥å‘Šæˆ–åˆ¶å®šæ‰¿ä¿ç­–ç•¥æ—¶ä½¿ç”¨ã€‚
---

# æ–°èƒ½æºè´§è½¦ä¿é™©åˆ†æ

## æ ¸å¿ƒåŠŸèƒ½

ä¸“é¡¹åˆ†ææ–°èƒ½æºè´§è½¦ï¼ˆ`is_new_energy_vehicle=True` ä¸” `business_type_category` åŒ…å«"è´§è½¦"ï¼‰çš„ä¿é™©ä¸šåŠ¡è¡¨ç°ï¼š

- âœ… å¤šå‘¨è¶‹åŠ¿åˆ†æï¼ˆèµ”ä»˜ç‡ã€ä¿è´¹è§„æ¨¡ã€æ¡ˆå‡èµ”æ¬¾ï¼‰
- âœ… æœºæ„é£é™©è¯„çº§ï¼ˆæŒ‰èµ”ä»˜ç‡åˆ†æ¡£ï¼‰
- âœ… ä¸šåŠ¡ç±»å‹æ·±åº¦é’»å–ï¼ˆè½¦å‹ã€é™©åˆ«ã€ç»­ä¿çŠ¶æ€ï¼‰
- âœ… å¼‚å¸¸æ³¢åŠ¨æ£€æµ‹ï¼ˆå•å‘¨æš´æ¶¨ã€è¿ç»­æ¶åŒ–ï¼‰

## ç«‹å³ä½¿ç”¨

```python
# å¿«é€Ÿåˆ†ææµç¨‹
from analyze_new_energy_trucks import NewEnergyTruckAnalyzer

analyzer = NewEnergyTruckAnalyzer(
    data_folder="2025å¹´ä¿å•",
    start_week=28,
    end_week=43
)

# åŠ è½½æ•°æ®
available_weeks, missing_weeks = analyzer.load_data()

# è®¡ç®—æŒ‡æ ‡
weekly_kpis = analyzer.calculate_weekly_kpis()

# åˆ†æåŒºåŸŸ
regional_analysis = analyzer.analyze_regional_performance()

# ç”ŸæˆæŠ¥å‘Š
report = analyzer.generate_report(
    weekly_kpis,
    regional_analysis,
    business_analysis,
    trend_analysis,
    problem_weeks
)
```

## å…³é”®æŒ‡æ ‡é˜ˆå€¼

| æŒ‡æ ‡ | è‰¯å¥½ | å…³æ³¨ | é¢„è­¦ | é«˜å± |
|-----|------|------|------|------|
| èµ”ä»˜ç‡ | <60% | 60-70% | 70-80% | >80% |
| å‡ºé™©ç‡ | <25% | 25-50% | 50-100% | >100% |
| è¾¹é™…è´¡çŒ®ç‡ | >8% | 4-8% | 0-4% | <0% |
| æ¡ˆå‡èµ”æ¬¾ | <5k | 5k-8k | 8k-10k | >10k |

## åˆ†æç»´åº¦

### 1. æ—¶é—´è¶‹åŠ¿åˆ†æ

**å…³é”®æŒ‡æ ‡å‘¨åº¦è·Ÿè¸ª**:
- èµ”ä»˜ç‡èµ°åŠ¿ï¼ˆç´¯è®¡å€¼ï¼‰
- ä¿è´¹è§„æ¨¡å¢é•¿ï¼ˆå‘¨åº¦å¯¹æ¯”ï¼‰
- æ¡ˆå‡èµ”æ¬¾æ³¢åŠ¨ï¼ˆæ£€æµ‹çªå¢ï¼‰
- å‡ºé™©ç‡å˜åŒ–ï¼ˆé£é™©æš´éœ²ï¼‰

**å¼‚å¸¸æ£€æµ‹è§„åˆ™**:
```python
# å•å‘¨æš´æ¶¨
if current_loss_ratio > prev_loss_ratio * 1.15:
    alert("èµ”ä»˜ç‡å•å‘¨æš´æ¶¨>15%")

# æ¡ˆå‡çªå¢
if current_avg_claim > period_avg * 1.5:
    alert("æ¡ˆå‡èµ”æ¬¾å¼‚å¸¸")
```

### 2. åŒºåŸŸé£é™©è¯„ä¼°

**æœºæ„åˆ†æ¡£**:
- ğŸŸ¢ ä½é£é™©: èµ”ä»˜ç‡ < 70%
- ğŸŸ¡ ä¸­é£é™©: èµ”ä»˜ç‡ 70-80%
- ğŸŸ  é«˜é£é™©: èµ”ä»˜ç‡ 80-100%
- ğŸ”´ æå±: èµ”ä»˜ç‡ > 100%

**é‡ç‚¹å…³æ³¨æ¡ä»¶**:
- èµ”ä»˜ç‡ > 80% ä¸”ä¿è´¹è§„æ¨¡ > 50ä¸‡
- è¿ç»­3å‘¨èµ”ä»˜ç‡æ¶åŒ–
- è¾¹é™…è´¡çŒ®ç‡ < -30%

### 3. ä¸šåŠ¡ç±»å‹é’»å–

**è½¦å‹åˆ†ç±»**:
- 2å¨ä»¥ä¸‹è¥ä¸šè´§è½¦ï¼ˆä¸»åŠ›ä¸šåŠ¡ï¼‰
- 2-10å¨è¥ä¸šè´§è½¦
- 10å¨ä»¥ä¸Šè¥ä¸šè´§è½¦
- éè¥ä¸šè´§è½¦

**é™©åˆ«ç»“æ„**:
- ä¸»å…¨é™©ï¼ˆç»„åˆé™©ï¼‰
- äº¤ä¸‰é™©ï¼ˆäº¤å¼ºé™©ç¬¬ä¸‰è€…ï¼‰
- å•ç‹¬é™©åˆ«

## è¾“å‡ºæŠ¥å‘Šç»“æ„

```markdown
# æ–°èƒ½æºè´§è½¦åˆ†ææŠ¥å‘Š - {å¹´ä»½}ç¬¬{X-Y}å‘¨

## ä¸€ã€æ‰§è¡Œæ‘˜è¦
### æ ¸å¿ƒç»“è®º
### å…³é”®æŒ‡æ ‡

## äºŒã€è¶‹åŠ¿åˆ†æ
### åˆ†æå‘¨æœŸè¡¨ç°
### æ ¸å¿ƒå‘ç°
### å„å‘¨è¯¦ç»†æŒ‡æ ‡

## ä¸‰ã€å¼‚å¸¸å‘¨æ¬¡è¯†åˆ«
### ç¬¬Xå‘¨ - [é—®é¢˜æè¿°]

## å››ã€åŒºåŸŸè¡¨ç°åˆ†æ
### å„æœºæ„ä¸šåŠ¡è¡¨ç°
### é«˜é£é™©æœºæ„æ¸…å•

## äº”ã€æˆ˜ç•¥å»ºè®®ä¸è¡ŒåŠ¨è®¡åˆ’
### ğŸš¨ ç«‹å³è¡ŒåŠ¨ï¼ˆ24å°æ—¶å†…ï¼‰
### â° æœ¬å‘¨å†…å®Œæˆï¼ˆ7å¤©ï¼‰
### ğŸ“Š ä¸­æœŸä¼˜åŒ–ï¼ˆ1ä¸ªæœˆå†…ï¼‰
### ğŸ¯ é•¿æœŸæˆ˜ç•¥ï¼ˆ3ä¸ªæœˆå†…ï¼‰

## é™„å½•ï¼šåˆ†æè¯´æ˜
```

## å®ç”¨è„šæœ¬

### å¿«é€Ÿæ‰§è¡Œåˆ†æ

```bash
# è¿è¡Œåˆ†æè„šæœ¬
python3 analyze_new_energy_trucks.py

# è‡ªå®šä¹‰å‘¨æœŸ
# ä¿®æ”¹è„šæœ¬ä¸­çš„ START_WEEK å’Œ END_WEEK å˜é‡
```

### æ•°æ®è´¨é‡æ£€æŸ¥

```bash
# æ£€æŸ¥æ–°èƒ½æºè´§è½¦æ•°æ®é‡
grep -c "True.*è´§è½¦" 2025å¹´ä¿å•/2025ä¿å•ç¬¬*å‘¨*.csv

# éªŒè¯æ•°æ®å®Œæ•´æ€§
ls 2025å¹´ä¿å•/2025ä¿å•ç¬¬{28..43}å‘¨*.csv 2>/dev/null | wc -l
```

## å¸¸è§é—®é¢˜

### Q1: èµ”ä»˜ç‡è¶…è¿‡100%æ­£å¸¸å—ï¼Ÿ

**A**: å¯¹äºæ–°èƒ½æºè´§è½¦ï¼Œè¿™æ˜¯å¸¸è§ç°è±¡ï¼ŒåŸå› åŒ…æ‹¬ï¼š
- ç”µæ± æ›´æ¢æˆæœ¬é«˜ï¼ˆå è½¦ä»·30-40%ï¼‰
- å……ç”µåŸºç¡€è®¾æ–½ä¸å®Œå–„å¯¼è‡´äº‹æ•…å¢å¤š
- ç»´ä¿®ç½‘ç»œç¨€ç¼ºï¼Œä¿®ç†æˆæœ¬é«˜
- æŠ€æœ¯ä¸æˆç†Ÿï¼Œæ•…éšœç‡é«˜

### Q2: å¦‚ä½•è¯†åˆ«ç”µæ± ç›¸å…³ç†èµ”ï¼Ÿ

**A**: ç®€åŒ–è¯†åˆ«æ–¹æ³•ï¼š
```python
# ä½¿ç”¨æ¡ˆå‡èµ”æ¬¾ä½œä¸ºä»£ç†æŒ‡æ ‡
battery_related = df[df['reported_claim_payment_yuan'] > 50000]
# å¤§äº5ä¸‡å…ƒçš„ç†èµ”å¾ˆå¯èƒ½æ¶‰åŠç”µæ± 
```

### Q3: ç¼ºå¤±å‘¨æ¬¡å¦‚ä½•å¤„ç†ï¼Ÿ

**A**: è„šæœ¬è‡ªåŠ¨å¤„ç†ï¼š
- è·³è¿‡ç¼ºå¤±å‘¨æ¬¡
- åœ¨æŠ¥å‘Šä¸­æ ‡æ³¨
- ä¸å½±å“å…¶ä»–å‘¨æ¬¡åˆ†æ

### Q4: å¦‚ä½•å¯¹æ¯”ä¼ ç»Ÿè´§è½¦ï¼Ÿ

**A**: éœ€è¦å•ç‹¬åˆ†æä¼ ç»Ÿè´§è½¦æ•°æ®ï¼š
```python
# ç­›é€‰ä¼ ç»Ÿè´§è½¦
traditional_trucks = df[
    (df['is_new_energy_vehicle'] == False) &
    (df['business_type_category'].str.contains('è´§è½¦'))
]
```

## é£é™©è¯†åˆ«è§„åˆ™

### ç«‹å³è­¦æŠ¥æ¡ä»¶

```python
# æœºæ„çº§åˆ«
if loss_ratio > 150:
    trigger_alert("æå±ï¼šæœºæ„èµ”ä»˜ç‡>150%")

# å‘¨åº¦æ³¢åŠ¨
if week_over_week_change > 50:
    trigger_alert("è­¦å‘Šï¼šå•å‘¨èµ”ä»˜ç‡æš´æ¶¨>50%")

# ä¸šåŠ¡è´¨é‡
if claim_frequency > 100:
    trigger_alert("å…³æ³¨ï¼šå‡ºé™©ç‡>100%ï¼Œå¤šæ¬¡å‡ºé™©")
```

### ç›‘æ§æŒ‡æ ‡æ¸…å•

- [ ] èµ”ä»˜ç‡ > 80%
- [ ] å‡ºé™©ç‡ > 100%
- [ ] æ¡ˆå‡èµ”æ¬¾ > 10,000å…ƒ
- [ ] è¾¹é™…è´¡çŒ®ç‡ < 0%
- [ ] å•å‘¨èµ”ä»˜ç‡å¢å¹… > 20%
- [ ] è¿ç»­3å‘¨æ¶åŒ–è¶‹åŠ¿

## å‚è€ƒèµ„æº

è¯¦ç»†å‚è€ƒæ–‡æ¡£ï¼š
- `reference/kpi_definitions.md` - KPIå®šä¹‰å’Œè®¡ç®—å…¬å¼
- `reference/risk_thresholds.md` - é£é™©é˜ˆå€¼æ ‡å‡†
- `reference/new_energy_insights.md` - æ–°èƒ½æºè½¦é™©è¡Œä¸šæ´å¯Ÿ

å·¥å…·è„šæœ¬ï¼š
- `scripts/analyze_new_energy_trucks.py` - ä¸»åˆ†æè„šæœ¬
- `scripts/data_validator.py` - æ•°æ®éªŒè¯å·¥å…·

## æ›´æ–°æ—¥å¿—

- v1.0 (2025-11-04): åˆå§‹ç‰ˆæœ¬
  - åŸºç¡€åˆ†ææ¡†æ¶
  - å‘¨åº¦è¶‹åŠ¿è·Ÿè¸ª
  - åŒºåŸŸé£é™©è¯„ä¼°
  - è‡ªåŠ¨æŠ¥å‘Šç”Ÿæˆ
