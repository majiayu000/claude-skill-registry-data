---
name: planning-docs
description: 企画・設計・アイデア出し・ブレインストーミング・要件定義など、プロジェクトの企画フェーズに関する会話をしているときに自動発動。会話の内容を自動的にdocs/ディレクトリにタイムスタンプ付きドキュメントとして保存する。
---

# 企画ドキュメント自動作成スキル

このスキルは、企画フェーズの会話内容を自動的にドキュメント化します。

## 発動条件

以下のような会話を検出したら、自動的にドキュメントを作成してください：

- プロジェクトの企画や提案を話し合っている
- 新機能のアイデアを出し合っている
- システム設計やアーキテクチャを議論している
- 要件定義や仕様を整理している
- 技術調査の結果を共有している
- ブレインストーミングをしている
- 会議メモを残したい内容を話している

## 実行手順

### 1. ディレクトリの確認・作成

まず `docs/` ディレクトリが存在するか確認してください。存在しない場合は作成します。

### 2. ファイル名の生成

以下の形式でファイル名を生成してください：

```
docs/YYYYMMDD_HHMM_タイトル.md
```

- `YYYYMMDD`: 現在の日付（例: 20250113）
- `HHMM`: 現在の時刻（例: 1430）
- `タイトル`: 会話内容から適切なタイトルを生成（日本語、20文字以内）

**タイトル生成の例：**
- 企画書の話 → `初期企画案`
- API設計の話 → `API設計メモ`
- ユーザー要件の話 → `ユーザー要件定義`
- 技術調査の話 → `技術調査_ライブラリ比較`

### 3. ドキュメントの作成

以下の構成でMarkdownドキュメントを作成してください：

```markdown
# [タイトル]

**日時**: YYYY年MM月DD日 HH:MM
**カテゴリ**: [企画/設計/要件定義/技術調査/会議メモ など]

## 概要

[会話内容の要約を2-3文で]

## 詳細

[会話の内容を構造化して記録]

### [適切なセクション見出し]

- 箇条書きや段落で整理
- 重要なポイントを強調
- 図やコード例があれば含める

## 次のアクション

[もしあれば、次に取るべきアクションを箇条書きで]

## 参考リンク・メモ

[関連するURLや追加メモがあれば]

---

*このドキュメントはClaude Code planning-docsスキルにより自動生成されました*
```

### 4. ユーザーへの通知

ドキュメントを作成したら、以下のように簡潔に通知してください：

```
会話内容を docs/20250113_1430_初期企画案.md に保存しました。
```

## 重要な注意事項

### 保存タイミングの判断基準（重要！）

**ドキュメントを作成する前に、以下の条件を全てチェックしてください：**

1. **十分な情報量があるか？**
   - 会話が5ターン以上続いている
   - 具体的な内容（機能、要件、設計など）が話されている
   - 後で振り返る価値がある内容である

2. **重複していないか？**
   - `docs/` ディレクトリを確認し、今日の日付で同じトピックのファイルが既に存在しないか確認
   - 既に存在する場合は、**新規作成せず既存ファイルを更新**する
   - 例：`docs/20250113_1430_API設計.md` が既にある場合、`docs/20250113_1500_API設計.md` は作らない

3. **会話が一区切りついたか？**
   - ユーザーが「じゃあ次は...」「とりあえずこれで...」などと区切りを示している
   - トピックが変わった（企画の話 → コーディングの話）
   - ユーザーが「まとめて」「記録して」と明示的に言った
   - 会話が10ターン以上続き、ある程度まとまった内容になった

**これら3つの条件を満たす場合のみドキュメントを作成してください。**

### やること

- 上記の判断基準を厳守する
- 重要な内容は漏らさず記録する
- 読みやすく構造化された形式で保存する
- タイトルは具体的でわかりやすいものにする
- 既存ファイルがある場合は新規作成ではなく更新する

### やらないこと

- 些細な雑談まで保存しない
- **会話の途中で性急に保存しない**（一区切りつくまで待つ）
- 同じトピックで複数のドキュメントを作らない
- ユーザーが明示的に「保存しないで」と言った場合は保存しない
- コーディング中の会話は保存しない（企画フェーズのみ）

### 既存ドキュメントの更新方法

同じトピックで既にドキュメントがある場合：

```bash
# 既存: docs/20250113_1430_API設計.md
# 新しい情報が追加された場合 → 既存ファイルを更新
# 新規作成はしない
```

更新時は以下のように追記してください：

```markdown
---

## 追加議論（HH:MM更新）

[新しく話された内容]
```

## カスタマイズ

このスキルの動作は以下のファイルで設定できます：

- `~/.claude/CLAUDE.md` - ドキュメント作成のルールをさらに詳しく定義
- このSKILL.mdファイル - スキルの発動条件や動作をカスタマイズ

## 使用例

**ユーザー**: 新しいアプリのアイデアなんだけど、天気予報とToDoリストを組み合わせたやつ。雨の日は室内タスクを優先的に表示するみたいな。

**Claude**: いいアイデアですね！天気連動型ToDoアプリという感じですね。

[会話が続く...]

**Claude**: 会話内容を `docs/20250113_1430_天気連動ToDoアプリ企画.md` に保存しました。

---

**このスキルの場所**: `~/.claude/skills/planning-docs/SKILL.md`
**編集方法**: テキストエディタで直接編集するか、`claude-setup` リポジトリのテンプレートを更新して再インストールしてください
