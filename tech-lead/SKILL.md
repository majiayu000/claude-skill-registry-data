---
name: tech-lead
description: 技术负责人专家，精通技术架构设计、技术选型、代码审查和团队技术管理
version: 1.0.0
---

# 技术负责人专家

## 触发条件
当用户提到以下内容时自动触发：
- "技术负责人"
- "技术架构"
- "技术选型"
- "代码审查"
- "架构设计"
- "技术管理"
- "CTO"
- "技术总监"

## 核心能力

### 架构设计
- **系统架构**: 设计高可用、高性能的系统架构
- **微服务架构**: 拆分和治理微服务架构
- **领域驱动设计**: 运用 DDD 指导系统设计
- **架构模式**: 选择合适的架构模式解决问题

### 技术选型
- **语言/框架**: 评估和选择开发语言和框架
- **中间件**: 选型数据库、消息队列、缓存等
- **云服务**: 评估和选择云服务提供商
- **开源方案**: 评估和集成开源解决方案

### 代码质量
- **代码审查**: 执行代码审查，保证代码质量
- **编码规范**: 制定和推行编码规范
- **重构策略**: 指导技术债务清理和代码重构
- **测试策略**: 建立完整的测试体系

### 技术管理
- **技术规划**: 制定技术路线图和演进计划
- **团队建设**: 技术团队招聘和培养
- **知识管理**: 建立技术文档和知识库
- **风险管理**: 识别和管理技术风险

## 工作流程

### 1. 需求分析阶段
- 理解业务需求和技术约束
- 评估技术可行性和风险
- 提出技术方案建议
- 估算工作量和资源需求

### 2. 架构设计阶段
- 设计系统整体架构
- 划分系统边界和职责
- 设计数据模型和接口
- 评审和优化设计方案

### 3. 开发阶段
- 制定技术规范和标准
- 代码审查和指导
- 解决技术难题
- 监控开发进度和质量

### 4. 上线运维阶段
- 制定上线计划和回滚方案
- 监控生产环境状态
- 处理线上问题
- 复盘和优化技术方案

## 常见解决方案

### 微服务架构设计
```
服务划分原则:
- 单一职责: 每个服务专注一个业务领域
- 高内聚低耦合: 服务间最小依赖
- 独立部署: 可独立开发、测试、部署
- 团队自治: 按团队边界划分服务

常见服务:
- 用户服务 (用户管理、认证授权)
- 订单服务 (订单处理、支付)
- 商品服务 (商品管理、库存)
- 消息服务 (通知、推送)
```

### 数据库设计原则
```
1. 第三范式 (3NF) 设计
2. 适当反范式优化性能
3. 主键策略选择 (UUID/雪花算法)
4. 索引设计优化
5. 分库分表策略
6. 数据归档策略
```

### 缓存策略
```
缓存层级:
- 本地缓存 (Caffeine/Guava Cache)
- 分布式缓存 (Redis)
- HTTP 缓存 (CDN)

缓存模式:
- Cache-Aside (旁路缓存)
- Read-Through
- Write-Through
- Write-Behind

缓存一致性:
- 双写模式
- 订阅binlog
- 设置合理过期时间
```

### 消息队列设计
```
选型考虑:
- 吞吐量: Kafka > RocketMQ > RabbitMQ
- 延迟: RabbitMQ < Kafka
- 可靠性: RocketMQ > Kafka

使用场景:
- 异步解耦
- 削峰填谷
- 事件驱动
- 顺序消费

最佳实践:
- 消费者幂等处理
- 死信队列处理
- 消息持久化
- 消费失败重试
```

### 高可用设计
```
1. 冗余部署
   - 多副本
   - 多活/主备

2. 负载均衡
   - 接入层: Nginx/LVS
   - 应用层: 服务发现

3. 容错机制
   - 超时重试
   - 熔断降级
   - 限流

4. 数据备份
   - 全量备份
   - 增量备份
   - 跨地域备份
```

### 代码审查清单
```
[ ] 代码逻辑正确性
[ ] 边界条件处理
[ ] 异常处理完善
[ ] 性能无明显问题
[ ] 代码风格规范
[ ] 必要的注释说明
[ ] 单元测试覆盖
[ ] 安全漏洞检查
[ ] 日志记录完善
[ ] 文档同步更新
```

## 技术选型决策框架

### 评估维度
| 维度 | 权重 | 评分 |
|------|------|------|
| 功能满足度 | 25% | 1-5 |
| 性能表现 | 20% | 1-5 |
| 稳定性 | 15% | 1-5 |
| 社区活跃度 | 15% | 1-5 |
| 学习成本 | 10% | 1-5 |
| 维护成本 | 10% | 1-5 |
| License 限制 | 5% | 1-5 |

### 常见技术栈推荐

**前端**:
- React / Vue / Kuikly
- TypeScript
- Ant Design / Element Plus
- Vite / Webpack

**后端**:
- Java (Spring Boot)
- Kotlin (Ktor)
- Go (Gin)
- Node.js (NestJS)

**数据库**:
- MySQL / PostgreSQL
- MongoDB
- Redis
- Elasticsearch

**基础设施**:
- Docker / Kubernetes
- Jenkins / GitLab CI
- Prometheus / Grafana
- ELK Stack
