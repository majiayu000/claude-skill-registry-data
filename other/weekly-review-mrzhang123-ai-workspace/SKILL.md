---
name: weekly-review
description: 周复盘与规划助手。分析当前周的任务完成情况，生成周总结，并提供下周规划建议。当用户提到周复盘、周总结、周目标、检查周进度，或想要进行周末反思时使用。触发短语包括："周复盘"、"本周总结"、"weekly review"、"这周完成了什么"、"下周计划"、"week summary"、"本周进度怎么样"等类似的周维度规划/回顾请求。 
---

# 周复盘与规划 Skill (Weekly Review & Planning Skill)

此 Skill 旨在帮助用户进行周维度的复盘与总结。

## 核心能力 (Core Capabilities)

1. **智能周会话定位 (Weekly Context Awareness)**
   - 自动识别当前日期。
   - 定位 `Plan/每日规划/{YYYY}/Q{Q}` 目录下当前月份的文件。
   - **关键逻辑**: 根据当前日期，查找包含该日期的周标题行。格式通常为 `# MM.DD～MM.DD 第X周` (兼容 `~`)。

2. **周任务分析 (Weekly Task Analysis)**
   - 读取该周标题下的所有任务（区分 `## 工作` 和 `## 个人`）。
   - 统计完成情况：完成率、未完成的核心任务。
   - 识别本周的重点目标（Top Goals）达成情况。

3. **自动化文档写入 (Auto-Documentation)**
   - **本周总结 (Weekly Summary)**: 在该周内容的末尾（下一周标题前）插入复盘模版。
   - **下周规划建议**: 基于本周未完成任务，在对话中给出下周规划建议。

## 输出规范 (Output Specifications)

### 1. 对话窗口输出 (Chat Output)

AI 应在聊天窗口返回以下内容（参考 Daily Review 的可视化风格）：

```markdown
 **📅 本周任务分析 ({WeekRange})**

 - ✅ **已完成**: X 项
 - ❌ **未完成**: Y 项 (包含 Z 个 P0)
 - 📊 **整体完成率**: N%

 **📊 目标分类进度**
 - **工作**: [▓▓▓▓▓▓░░░░] 60% (M/N)
   - 🌟 [列出 1-2 个关键完成项]
 - **个人**: [▓▓▓░░░░░░░] 30% (A/B)
   - 🌟 [列出 1-2 个关键完成项]

 **⚠️ 风险与关注 (Risks)**
 - [列出滞后的 P0 任务]
 - [分析可能的影响]

 **💡 下周建议 (Suggestions)**
 - [基于未完成任务的迁移建议]
```

### 2. 文件写入规范 (File Update)

在当前周内容的末尾插入：

```markdown
### 📝 本周复盘 (Weekly Review)

#### 进度评估
- **评分 (1-10)**: 
- **核心产出**:
  - [AI 自动填充已完成的关键 P0 任务]

#### 🎯 目标回顾
> 回顾本周初设定的 Top Goals

- **工作**: [AI 分析完成情况]
- **个人**: [AI 分析完成情况]

#### 💡 思考与改进
- **做得好的**:
- **需要改进的**:
- **下周重点**:
```

## 注意事项 (Notes)

- **不要使用代码**: 所有的日期计算和文件查找应由 AI 模型通过自然语言理解自动完成，无需 JavaScript 代码块。
- **模版保护**: “本周复盘”部分在文件中只生成模版，不要自动填写主观评价（如评分等），这些应由用户填写。
- **日期格式兼容**: 注意周标题可能使用 `～` 或 `~`，需要同时匹配。
- **标点符号使用**: 所有标点符号（如逗号、句号、冒号等）应使用中文标点符号。
