# VæŠ€èƒ½ç‰¹æ®Šæ”»å‡» - è®¾è®¡ä¸å®ç°æ–‡æ¡£

**åˆ›å»ºæ—¶é—´**: 2026-01-25
**çŠ¶æ€**: âœ… å®ç°å®Œæˆï¼Œå¾…éªŒè¯
**è´Ÿè´£æ¨¡å—**: SkillManagerç»„ä»¶

---

## ğŸ“‹ ç›®å½•

- [åŠŸèƒ½æ¦‚è¿°](#åŠŸèƒ½æ¦‚è¿°)
- [ç›®æ ‡è®¾è®¡æ–¹æ¡ˆ](#ç›®æ ‡è®¾è®¡æ–¹æ¡ˆ)
- [å®ç°ç­–ç•¥](#å®ç°ç­–ç•¥)
- [æŠ€æœ¯ç»†èŠ‚](#æŠ€æœ¯ç»†èŠ‚)
- [é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ](#é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ)
- [é…ç½®å‚æ•°](#é…ç½®å‚æ•°)
- [ç›¸å…³æ–‡ä»¶](#ç›¸å…³æ–‡ä»¶)
- [éªŒè¯æ¸…å•](#éªŒè¯æ¸…å•)

---

## åŠŸèƒ½æ¦‚è¿°

### åŠŸèƒ½æè¿°
ç©å®¶æŒ‰ä¸‹Vé”®è§¦å‘çš„ç‰¹æ®Šæ”»å‡»æŠ€èƒ½ï¼ŒåŒ…å«è§†è§‰ç‰¹æ•ˆã€æ•Œäººèšé›†ã€é•œå¤´æ§åˆ¶å’Œæ”»å‡»åŠ¨ç”»çš„å®Œæ•´æµç¨‹ã€‚

### æ ¸å¿ƒç‰¹æ€§
- ğŸ­ è§’è‰²æ®‹å½±æ”¾å¤§æ•ˆæœ
- ğŸŒ€ æ¼©æ¶¡èšé›†ç‰¹æ•ˆ
- ğŸ‘ï¸ åŠ¨æ€é•œå¤´è·Ÿè¸ª
- ğŸ¯ æ•Œäººå¼ºåˆ¶èšé›†
- âš”ï¸ é›†ä¸­æ”»å‡»åŠ¨ç”»

---

## ğŸ¯ ç›®æ ‡è®¾è®¡æ–¹æ¡ˆ

### æŠ€èƒ½æ‰§è¡Œæµç¨‹ï¼ˆæ›´æ–°äº 2026-01-25ï¼‰

```
æŒ‰ä¸‹Vé”®
    â†“
[Phase 1] å¯åŠ¨é˜¶æ®µ
â”œâ”€â”€ ç©å®¶ä½ç½®ç”Ÿæˆæ®‹å½±æ”¾å¤§æ•ˆæœï¼ˆåŸºäºspriteä¸­å¿ƒé”šç‚¹ï¼Œæ”¾å¤§â†’ç¼©å°â†’æ¸éšï¼‰
â”œâ”€â”€ æ’­æ”¾å¿ƒè·³éŸ³æ•ˆï¼ˆå¯é€‰ï¼‰
â””â”€â”€ å‰æ–¹200pxç”Ÿæˆæ¼©æ¶¡ç‰¹æ•ˆ
    â†“
[Phase 2] æ£€æµ‹æ•Œäºº
â””â”€â”€ æ£€æµ‹å‰æ–¹æ‰‡å½¢èŒƒå›´å†…çš„æ•Œäºº
    â†“
[Phase 3] èšé›†é˜¶æ®µ
â”œâ”€â”€ é•œå¤´ç§»åŠ¨åˆ°æ¼©æ¶¡ä½ç½®ï¼ˆå›ºå®šä¸åŠ¨ï¼‰
â”œâ”€â”€ é€ä¸ªå¤„ç†æ•Œäººï¼š
â”‚   â”œâ”€â”€ æ•ŒäººçŠ¶æ€æœºåˆ‡æ¢åˆ°stunçŠ¶æ€
â”‚   â”œâ”€â”€ åœæ­¢stunçŠ¶æ€çš„timerï¼ˆé˜²æ­¢è‡ªåŠ¨æ¢å¤ï¼‰
â”‚   â”œâ”€â”€ è®¾ç½® can_move = false
â”‚   â””â”€â”€ èšé›†æ•Œäººåˆ°æ¼©æ¶¡ä½ç½®
â””â”€â”€ æ‰€æœ‰æ•Œäººèšé›†å®Œæ¯•åï¼Œé•œå¤´åˆ‡æ¢å›ç©å®¶
    â†“
[Phase 4] å†²åˆºé˜¶æ®µ
â””â”€â”€ ç©å®¶æ®‹å½±å†²åˆºåˆ°æ¼©æ¶¡ä½ç½®
    â†“
[Phase 5] æ”»å‡»é˜¶æ®µ
â””â”€â”€ æ’­æ”¾æ”»å‡»åŠ¨ç”»
    â†“
[Phase 6] æ¢å¤é˜¶æ®µ
â”œâ”€â”€ è§£é™¤æ‰€æœ‰æ•ŒäººstunçŠ¶æ€ï¼ˆè§¦å‘on_timeoutè½¬æ¢åˆ°chase/wanderï¼‰
â”œâ”€â”€ éšè—æ¼©æ¶¡
â””â”€â”€ æ¢å¤ç©å®¶æ§åˆ¶
```

### è§†è§‰æ•ˆæœè§„æ ¼

#### æ®‹å½±æ”¾å¤§æ•ˆæœ
- **ä½ç½®**: ç©å®¶å½“å‰ä½ç½®
- **åŠ¨ç”»**:
  1. å¿«é€Ÿæ”¾å¤§åˆ°2å€ï¼ˆ0.2ç§’ï¼ŒEASE_OUT + TRANS_BACKï¼‰
  2. ç¼©å°å›åŸå§‹å¤§å°å¹¶æ¸éšï¼ˆ0.3ç§’ï¼ŒEASE_IN + TRANS_QUADï¼‰
- **é¢œè‰²**: æ·¡è“è‰² `Color(0.8, 0.9, 1.0, 0.7)`

#### æ¼©æ¶¡ç‰¹æ•ˆ
- **ä½ç½®**: ç©å®¶é¢å‘æ–¹å‘200pxå¤„
- **åŠå¾„**: 60pxï¼ˆå¢å¤§ä»¥æé«˜å¯è§æ€§ï¼‰
- **é¢œè‰²**: è“ç´«è‰² `Color(0.4, 0.5, 1.0, 1.0)`
- **èºæ—‹æ•°é‡**: 4æ¡
- **çº¿å®½**: 4.0
- **å±‚çº§**: z_index = 1ï¼ˆåœ¨è§’è‰²ä¸Šæ–¹ï¼‰
- **æŒç»­æ—¶é—´**: ä»Phase 1åˆ°Phase 6æ”»å‡»åŠ¨ç”»ç»“æŸ

#### é•œå¤´è¡Œä¸ºï¼ˆæ›´æ–°äº 2026-01-25ï¼‰
- **èšé›†é˜¶æ®µ**: é•œå¤´å›ºå®šåœ¨æ¼©æ¶¡ä½ç½®ï¼ˆä¸è·Ÿéšæ•Œäººç§»åŠ¨ï¼‰
- **èšé›†å®Œæ¯•å**: é•œå¤´åˆ‡æ¢å›ç©å®¶ä½ç½®
- **ç¼©æ”¾**: **ä¸æ”¹å˜zoomå€¼**ï¼ˆä¿æŒåŸå§‹ç¼©æ”¾ï¼‰
- **ç§»åŠ¨æ—¶é—´**: 0.5ç§’

---

## ğŸ”§ å®ç°ç­–ç•¥

### æ¶æ„è®¾è®¡

```
SkillManager.gd (ä¸»æ§åˆ¶å™¨)
â”œâ”€â”€ special_attack_v() - å…¥å£å‡½æ•°
â”œâ”€â”€ Phase 1: _create_initial_effects()
â”‚   â”œâ”€â”€ GhostExpandEffect - æ®‹å½±æ”¾å¤§
â”‚   â”œâ”€â”€ VortexEffect - æ¼©æ¶¡ç”Ÿæˆ
â”‚   â””â”€â”€ AudioManager - å¿ƒè·³éŸ³æ•ˆ
â”œâ”€â”€ Phase 2-5: _gather_enemies_sequence()
â”‚   â”œâ”€â”€ For each enemy:
â”‚   â”‚   â”œâ”€â”€ _position_camera_for_gather()
â”‚   â”‚   â”œâ”€â”€ _stun_enemy()
â”‚   â”‚   â”œâ”€â”€ _gather_enemy()
â”‚   â”‚   â””â”€â”€ await gather_tween.finished
â”œâ”€â”€ Phase 6: _execute_attack()
â”‚   â”œâ”€â”€ AfterImageEffect - å†²åˆºæ®‹å½±
â”‚   â”œâ”€â”€ AnimationComponent.play("attack")
â”‚   â””â”€â”€ await animation.finished â†’ hide vortex
â””â”€â”€ Phase 7: _cleanup()
    â”œâ”€â”€ _release_enemy_stuns()
    â””â”€â”€ _restore_camera()
```

### æ ¸å¿ƒç»„ä»¶äº¤äº’

```mermaid
graph TB
    A[SkillManager] -->|åˆ›å»º| B[GhostExpandEffect]
    A -->|åˆ›å»º| C[VortexEffect]
    A -->|æ§åˆ¶| D[CameraManager]
    A -->|çœ©æ™•| E[Enemy]
    A -->|èšé›†| F[GatherEffect]
    A -->|æ’­æ”¾| G[AnimationComponent]
    E -->|çŠ¶æ€æ£€æŸ¥| H[StateMachine States]
```

---

## ğŸ› ï¸ æŠ€æœ¯ç»†èŠ‚

### 1. æ®‹å½±æ”¾å¤§æ•ˆæœå®ç°

**æ–‡ä»¶**: [Util/Components/SkillManager.gd:77-90](../../Util/Components/SkillManager.gd#L77-L90)

```gdscript
# 1.2 åˆ›å»ºæ®‹å½±æ”¾å¤§æ•ˆæœ
var sprite = body.get_node_or_null("AnimatedSprite2D")
if sprite:
    var ghost = GhostExpandEffectScript.new()
    ghost.scale_multiplier = ghost_expand_scale
    ghost.duration = 0.5
    ghost.ghost_color = Color(0.8, 0.9, 1.0, 0.7)

    # ä½¿ç”¨ call_deferred é¿å… "Parent node is busy" é”™è¯¯
    body.get_parent().call_deferred("add_child", ghost)

    # å»¶è¿Ÿåˆ›å»ºç²¾çµï¼Œç­‰å¾…èŠ‚ç‚¹æ·»åŠ å®Œæˆ
    await owner_node.get_tree().process_frame
    ghost.create_from_sprite(sprite, body.global_position)
```

**å…³é”®æŠ€æœ¯ç‚¹**:
- âŒ **é—®é¢˜**: ç›´æ¥`add_child(ghost)`ä¼šè§¦å‘"Parent node is busy setting up children"é”™è¯¯
- âœ… **è§£å†³**: ä½¿ç”¨`call_deferred("add_child", ghost)`å»¶è¿Ÿæ·»åŠ èŠ‚ç‚¹
- âœ… **åŒæ­¥**: `await process_frame`ç¡®ä¿èŠ‚ç‚¹å·²æ·»åŠ åˆ°æ ‘ä¸­æ‰åˆ›å»ºç²¾çµ

**åŠ¨ç”»å®ç°**: [Util/Effects/GhostExpandEffect.gd](../../Util/Effects/GhostExpandEffect.gd)

```gdscript
func _play_expand_animation() -> void:
    var tween = create_tween()

    # é˜¶æ®µ1ï¼šå¿«é€Ÿæ”¾å¤§
    tween.set_ease(Tween.EASE_OUT)
    tween.set_trans(Tween.TRANS_BACK)
    tween.tween_property(_ghost_sprite, "scale", Vector2.ONE * scale_multiplier, duration * 0.4)

    # é˜¶æ®µ2ï¼šç¼©å°å›åŸå§‹å¤§å°å¹¶æ¸éš
    tween.set_ease(Tween.EASE_IN)
    tween.set_trans(Tween.TRANS_QUAD)
    tween.tween_property(_ghost_sprite, "scale", Vector2.ONE, duration * 0.6)
    tween.parallel().tween_property(_ghost_sprite, "modulate:a", 0.0, duration * 0.6)

    tween.finished.connect(_on_animation_finished)
```

---

### 2. æ•Œäººèšé›†ä½ç½®ä¿®æ­£

**æ–‡ä»¶**: [Util/Components/SkillManager.gd:165](../../Util/Components/SkillManager.gd#L165)

```gdscript
# âŒ æ—§å®ç°ï¼ˆé”™è¯¯ï¼‰
var gather_tween = _gather_enemy(enemy, _gather_position, gather_time)

# âœ… æ–°å®ç°ï¼ˆæ­£ç¡®ï¼‰
var gather_tween = _gather_enemy(enemy, _vortex_position, gather_time)
```

**é—®é¢˜åˆ†æ**:
- `_gather_position`: è®¡ç®—ä¸ºç©å®¶å‰æ–¹100px
- `_vortex_position`: è®¡ç®—ä¸ºç©å®¶å‰æ–¹200px
- **Bug**: æ•Œäººèšé›†åˆ°100pxä½ç½®ï¼Œä½†æ¼©æ¶¡åœ¨200pxä½ç½®ï¼Œå¯¼è‡´è§†è§‰ä¸åŒ¹é…

**ä¿®å¤ç»“æœ**:
- æ•Œäººç°åœ¨æ­£ç¡®èšé›†åˆ°æ¼©æ¶¡ä¸­å¿ƒä½ç½®ï¼ˆ200pxï¼‰

---

### 3. æ•Œäººå¼ºåˆ¶åœæ­¢æœºåˆ¶

#### 3.1 çœ©æ™•å‡½æ•°å®ç°

**æ–‡ä»¶**: [Util/Components/SkillManager.gd:254-261](../../Util/Components/SkillManager.gd#L254-L261)

```gdscript
## çœ©æ™•æ•Œäººï¼ˆå†…éƒ¨æ–¹æ³•ï¼‰
func _stun_enemy(enemy: Node) -> void:
    if "stunned" in enemy:
        enemy.stunned = true  # æ ‡å¿—1: çœ©æ™•çŠ¶æ€
    if "can_move" in enemy:
        enemy.can_move = false  # æ ‡å¿—2: ç¦æ­¢ç§»åŠ¨

    # æ ‡å¿—3: å¼ºåˆ¶é€Ÿåº¦å½’é›¶
    if enemy is CharacterBody2D:
        (enemy as CharacterBody2D).velocity = Vector2.ZERO

    print("çœ©æ™•æ•Œäºº: ", enemy.name, " ä¿æŒçœ©æ™•")
```

**ä¸‰é‡ä¿é™©æœºåˆ¶**:
1. `stunned = true`: ä¸šåŠ¡é€»è¾‘å±‚æ ‡å¿—
2. `can_move = false`: ç§»åŠ¨æƒé™æ§åˆ¶
3. `velocity = Vector2.ZERO`: ç‰©ç†å±‚é€Ÿåº¦æ¸…é›¶

#### 3.2 æ•Œäººç±»å±æ€§æ·»åŠ 

**æ–‡ä»¶**: [Scenes/enemies/dinosaur/Scripts/enemy.gd](../../Scenes/enemies/dinosaur/Scripts/enemy.gd)

```gdscript
var stunned : bool = false
var can_move : bool = true  # ç”¨äºæŠ€èƒ½èšé›†æ—¶å¼ºåˆ¶åœæ­¢ç§»åŠ¨
```

#### 3.3 çŠ¶æ€æœºé˜²æŠ¤å±‚

æ‰€æœ‰ç§»åŠ¨ç›¸å…³çŠ¶æ€æ·»åŠ can_moveæ£€æŸ¥ï¼š

**æ–‡ä»¶**:
- [Util/StateMachine/CommonStates/chase_state.gd](../../Util/StateMachine/CommonStates/chase_state.gd)
- [Util/StateMachine/CommonStates/wander_state.gd](../../Util/StateMachine/CommonStates/wander_state.gd)
- [Util/StateMachine/CommonStates/idle_state.gd](../../Util/StateMachine/CommonStates/idle_state.gd)
- [Util/StateMachine/CommonStates/attack_state.gd](../../Util/StateMachine/CommonStates/attack_state.gd)

```gdscript
func physics_process_state(delta: float) -> void:
    # æ£€æŸ¥æ˜¯å¦å¯ä»¥ç§»åŠ¨ï¼ˆæŠ€èƒ½èšé›†æ—¶å¼ºåˆ¶åœæ­¢ï¼‰
    if "can_move" in owner_node and not owner_node.can_move:
        if owner_node is CharacterBody2D:
            (owner_node as CharacterBody2D).velocity = Vector2.ZERO
        return

    # ... åŸæœ‰çŠ¶æ€é€»è¾‘ ...
```

**é˜²æŠ¤åŸç†**:
- åœ¨æ¯ä¸ªçŠ¶æ€çš„`physics_process_state`å¼€å¤´æ£€æŸ¥
- å¦‚æœ`can_move = false`ï¼Œå¼ºåˆ¶velocityå½’é›¶å¹¶ç«‹å³return
- é˜»æ­¢çŠ¶æ€æœºçš„ç§»åŠ¨é€»è¾‘è¦†ç›–é€Ÿåº¦è®¾ç½®

---

### 4. é•œå¤´æ§åˆ¶ç­–ç•¥

**æ–‡ä»¶**: [Util/Components/SkillManager.gd:158-162](../../Util/Components/SkillManager.gd#L158-L162)

```gdscript
# 3. é•œå¤´å®šä½åˆ°æ•Œäººå’Œæ¼©æ¶¡ä¸­é—´ä½ç½®ï¼ˆä¸ç¼©æ”¾ï¼‰
var vortex_pos = _vortex_position + body.global_position
var camera_target_pos = (enemy.global_position + vortex_pos) / 2.0

var tween = create_tween()
tween.tween_property(camera_manager.camera, "global_position",
                     camera_target_pos, camera_move_time)
# æ³¨æ„ï¼šä¸è°ƒç”¨ tween_property(..., "zoom", ...) ä»¥é¿å…ç¼©æ”¾
```

**è®¾è®¡è¦ç‚¹**:
- âœ… è®¡ç®—æ•Œäººå’Œæ¼©æ¶¡çš„ä¸­ç‚¹ï¼š`(enemy_pos + vortex_pos) / 2.0`
- âœ… åªæ”¹å˜é•œå¤´positionï¼Œ**ä¸æ”¹å˜zoom**
- âœ… ç§»åŠ¨æ—¶é—´0.5ç§’ï¼Œä½¿ç”¨Tweenå¹³æ»‘è¿‡æ¸¡

**é•œå¤´æ¢å¤**: [Util/Components/SkillManager.gd:217-220](../../Util/Components/SkillManager.gd#L217-L220)

```gdscript
# 7.4 æ¢å¤é•œå¤´åˆ°ç©å®¶
if camera_manager:
    var camera_tween = create_tween()
    camera_tween.tween_property(camera_manager.camera, "global_position",
                                body.global_position, 0.5)
```

---

### 5. æ¼©æ¶¡ç”Ÿå‘½å‘¨æœŸç®¡ç†

#### åˆ›å»ºæ—¶æœº
**æ–‡ä»¶**: [Util/Components/SkillManager.gd:98](../../Util/Components/SkillManager.gd#L98)

```gdscript
# Phase 1: 1.3 åˆ›å»ºæ¼©æ¶¡æ•ˆæœ
_vortex_instance = VortexEffectScript.new()
body.get_parent().add_child(_vortex_instance)
_vortex_instance.global_position = vortex_pos
```

#### é”€æ¯æ—¶æœºï¼ˆä¿®å¤åï¼‰

```gdscript
# âŒ æ—§å®ç°ï¼ˆPhase 4 - èšé›†é˜¶æ®µåç«‹å³éšè—ï¼‰
# é—®é¢˜ï¼šæ”»å‡»åŠ¨ç”»æ—¶çœ‹ä¸åˆ°æ¼©æ¶¡
if _vortex_instance:
    _vortex_instance.visible = false

# âœ… æ–°å®ç°ï¼ˆPhase 6 - æ”»å‡»åŠ¨ç”»ç»“æŸåéšè—ï¼‰
# æ–‡ä»¶: SkillManager.gd:190
await animation_component.animation_finished
if _vortex_instance:
    _vortex_instance.visible = false
```

**æ—¶é—´è½´å¯¹æ¯”**:

| é˜¶æ®µ | æ—§å®ç° | æ–°å®ç° |
|------|--------|--------|
| Phase 1 | åˆ›å»ºæ¼©æ¶¡ âœ… | åˆ›å»ºæ¼©æ¶¡ âœ… |
| Phase 2-5 | æ¼©æ¶¡å¯è§ âœ… | æ¼©æ¶¡å¯è§ âœ… |
| Phase 4æœ« | âŒ éšè—æ¼©æ¶¡ï¼ˆè¿‡æ—©ï¼‰ | æ¼©æ¶¡å¯è§ âœ… |
| Phase 6 | âŒ æ”»å‡»æ—¶æ— æ¼©æ¶¡ | âœ… æ”»å‡»æ—¶æœ‰æ¼©æ¶¡ |
| Phase 6æœ« | - | âœ… æ”»å‡»åŠ¨ç”»åéšè— |

---

### 6. æ¼©æ¶¡å¯è§æ€§ä¼˜åŒ–

**æ–‡ä»¶**: [Util/Effects/VortexEffect.gd](../../Util/Effects/VortexEffect.gd)

```gdscript
# åŸå§‹é…ç½®ï¼ˆä¸å¯è§ï¼‰
@export var radius: float = 30.0  # âŒ å¤ªå°
@export var vortex_color: Color = Color(0.3, 0.4, 0.8, 0.8)  # âŒ å¤ªæš—
# z_index æœªè®¾ç½®ï¼Œå¯èƒ½è¢«é®æŒ¡

# ä¼˜åŒ–åé…ç½®ï¼ˆæ¸…æ™°å¯è§ï¼‰
@export var radius: float = 60.0  # âœ… å¢å¤§ä¸€å€
@export var vortex_color: Color = Color(0.4, 0.5, 1.0, 1.0)  # âœ… æ›´äº®
@export var spiral_count: int = 4
@export var line_width: float = 4.0

func _ready() -> void:
    z_index = 1  # âœ… ç¡®ä¿åœ¨è§’è‰²ä¸Šæ–¹æ˜¾ç¤º
```

**ä¼˜åŒ–æ•ˆæœ**:
- åŠå¾„ä»30å¢åŠ åˆ°60ï¼ˆ+100%é¢ç§¯ï¼‰
- é¢œè‰²æ›´äº®ï¼ˆRGBå€¼æé«˜ï¼Œalpha=1.0ï¼‰
- z_index=1ç¡®ä¿ä¸è¢«è§’è‰²é®æŒ¡

---

## âŒ é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### é—®é¢˜1: æ®‹å½±ä½ç½®ä¸å¯¹

**ç°è±¡**:
- æ®‹å½±æ²¡æœ‰åœ¨ç©å®¶ä½ç½®å‡ºç°
- æˆ–è€…æ®‹å½±åªæ”¾å¤§ä¸ç¼©å°

**åŸå› åˆ†æ**:
- æœ€åˆå®ç°å¯èƒ½ä½¿ç”¨äº†é”™è¯¯çš„ä½ç½®è®¡ç®—
- åŠ¨ç”»åªæœ‰æ”¾å¤§é˜¶æ®µï¼Œç¼ºå°‘ç¼©å°å›åŸå§‹å¤§å°çš„é€»è¾‘

**è§£å†³æ–¹æ¡ˆ**:
1. ä½¿ç”¨`body.global_position`ä½œä¸ºæ®‹å½±ä½ç½®
2. ä¿®æ”¹åŠ¨ç”»ä¸ºä¸¤é˜¶æ®µï¼š
   - é˜¶æ®µ1: æ”¾å¤§åˆ°2å€ï¼ˆduration * 0.4ï¼‰
   - é˜¶æ®µ2: ç¼©å°å›1å€å¹¶æ¸éšï¼ˆduration * 0.6ï¼‰

**ç›¸å…³ä»£ç **: [GhostExpandEffect.gd](../../Util/Effects/GhostExpandEffect.gd)

---

### é—®é¢˜2: æ•Œäººèšé›†åè¿˜ä¼šç§»åŠ¨

**ç°è±¡**:
- æ•Œäººè¢«èšé›†åˆ°ç›®æ ‡ä½ç½®åä»ç„¶ä¼šèµ°åŠ¨
- çœ©æ™•çŠ¶æ€æ— æ•ˆ

**åŸå› åˆ†æ**:
1. åªè®¾ç½®`stunned = true`ï¼Œä½†çŠ¶æ€æœºä¸­æ²¡æœ‰æ£€æŸ¥
2. çŠ¶æ€æœºçš„`physics_process_state`ä»åœ¨æ›´æ–°é€Ÿåº¦
3. é€Ÿåº¦è®¾ç½®åè¢«çŠ¶æ€æœºé€»è¾‘è¦†ç›–

**è§£å†³æ–¹æ¡ˆï¼ˆå¤šå±‚é˜²æŠ¤ï¼‰**:

#### å±‚1: æ·»åŠ can_moveå±æ€§
```gdscript
# enemy.gd
var can_move : bool = true
```

#### å±‚2: çœ©æ™•æ—¶è®¾ç½®ä¸‰ä¸ªæ ‡å¿—
```gdscript
# SkillManager.gd
func _stun_enemy(enemy: Node):
    enemy.stunned = true
    enemy.can_move = false
    enemy.velocity = Vector2.ZERO
```

#### å±‚3: çŠ¶æ€æœºå¼€å¤´æ£€æŸ¥
```gdscript
# chase_state.gd, wander_state.gd, etc.
func physics_process_state(delta: float):
    if "can_move" in owner_node and not owner_node.can_move:
        (owner_node as CharacterBody2D).velocity = Vector2.ZERO
        return
    # ... åŸæœ‰é€»è¾‘ ...
```

**éªŒè¯æ–¹æ³•**:
- åœ¨`_stun_enemy`ä¸­æ·»åŠ `print("çœ©æ™•æ•Œäºº: ", enemy.name, " ä¿æŒçœ©æ™•")`
- æ£€æŸ¥æ§åˆ¶å°æ˜¯å¦è¾“å‡ºçœ©æ™•æ—¥å¿—
- è§‚å¯Ÿæ•Œäººæ˜¯å¦å®Œå…¨é™æ­¢

---

### é—®é¢˜3: æ¼©æ¶¡æ²¡æœ‰çœ‹åˆ°

**ç°è±¡**:
- æŠ€èƒ½é‡Šæ”¾æ—¶æ¼©æ¶¡ç‰¹æ•ˆä¸å¯è§
- æˆ–è€…æ¼©æ¶¡è¢«å…¶ä»–å…ƒç´ é®æŒ¡

**åŸå› åˆ†æ**:
1. åŠå¾„å¤ªå°ï¼ˆ30pxåœ¨æ¸¸æˆä¸­å¾ˆéš¾å¯Ÿè§‰ï¼‰
2. é¢œè‰²å¤ªæš—ï¼Œä¸èƒŒæ™¯å¯¹æ¯”åº¦ä¸è¶³
3. z_indexæœªè®¾ç½®ï¼Œè¢«è§’è‰²æˆ–å…¶ä»–å…ƒç´ é®æŒ¡

**è§£å†³æ–¹æ¡ˆ**:
```gdscript
# VortexEffect.gd
@export var radius: float = 60.0  # å¢å¤§åŠå¾„
@export var vortex_color: Color = Color(0.4, 0.5, 1.0, 1.0)  # æé«˜äº®åº¦
@export var line_width: float = 4.0  # åŠ ç²—çº¿æ¡

func _ready():
    z_index = 1  # ç¡®ä¿åœ¨ä¸Šå±‚æ˜¾ç¤º
```

**ç›¸å…³æ–‡ä»¶**: [VortexEffect.gd](../../Util/Effects/VortexEffect.gd)

---

### é—®é¢˜4: æ•Œäººæ²¡æœ‰èšé›†åˆ°æ¼©æ¶¡ä½ç½®

**ç°è±¡**:
- æ•Œäººèšé›†åˆ°è·ç¦»ç©å®¶100pxçš„ä½ç½®
- ä½†æ¼©æ¶¡åœ¨200pxä½ç½®ï¼Œä¸¤è€…ä¸é‡åˆ

**åŸå› åˆ†æ**:
- ä»£ç ä¸­æœ‰ä¸¤ä¸ªä½ç½®å˜é‡ï¼š
  - `_gather_position`: 100pxï¼ˆæ—§é€»è¾‘ï¼‰
  - `_vortex_position`: 200pxï¼ˆæ­£ç¡®ä½ç½®ï¼‰
- é”™è¯¯ä½¿ç”¨äº†`_gather_position`ä½œä¸ºèšé›†ç›®æ ‡

**è§£å†³æ–¹æ¡ˆ**:
```gdscript
# ä¿®æ”¹å‰
var gather_tween = _gather_enemy(enemy, _gather_position, gather_time)

# ä¿®æ”¹å
var gather_tween = _gather_enemy(enemy, _vortex_position, gather_time)
```

**ä»£ç ä½ç½®**: [SkillManager.gd:165](../../Util/Components/SkillManager.gd#L165)

---

### é—®é¢˜5: æ¼©æ¶¡æŒç»­æ—¶é—´ä¸å¯¹

**ç°è±¡**:
- æ¼©æ¶¡åœ¨æ”»å‡»åŠ¨ç”»æ’­æ”¾å‰å°±æ¶ˆå¤±äº†
- æ”»å‡»æ—¶çœ‹ä¸åˆ°ç›®æ ‡æ¼©æ¶¡

**åŸå› åˆ†æ**:
- åŸå®ç°åœ¨Phase 4ï¼ˆèšé›†ç»“æŸï¼‰åç«‹å³éšè—æ¼©æ¶¡
- ä½†Phase 6æ‰æ˜¯æ”»å‡»é˜¶æ®µï¼Œå¯¼è‡´æ”»å‡»æ—¶æ— è§†è§‰ç›®æ ‡

**è§£å†³æ–¹æ¡ˆ**:
```gdscript
# Phase 4 æœ«å°¾ï¼ˆåˆ é™¤éšè—ä»£ç ï¼‰
# if _vortex_instance:
#     _vortex_instance.visible = false  # âŒ ç§»é™¤

# Phase 6 æ”»å‡»åŠ¨ç”»ç»“æŸåï¼ˆæ–°å¢éšè—ä»£ç ï¼‰
await animation_component.animation_finished
if _vortex_instance:
    _vortex_instance.visible = false  # âœ… æ­£ç¡®æ—¶æœº
```

**ä»£ç ä½ç½®**: [SkillManager.gd:190](../../Util/Components/SkillManager.gd#L190)

---

### é—®é¢˜6: é•œå¤´ç¼©æ”¾ä¸ç¬¦åˆéœ€æ±‚

**ç°è±¡**:
- é•œå¤´åœ¨èšé›†æ—¶ä¼šç¼©æ”¾ï¼ˆzoom in/outï¼‰
- éœ€æ±‚æ˜¯åªç§»åŠ¨ä½ç½®ï¼Œä¸æ”¹å˜ç¼©æ”¾çº§åˆ«

**åŸå› åˆ†æ**:
- åˆå§‹å®ç°å¯èƒ½åŒ…å«äº†zoomå±æ€§çš„tweenåŠ¨ç”»

**è§£å†³æ–¹æ¡ˆ**:
```gdscript
# åªtween positionï¼Œä¸tween zoom
var tween = create_tween()
tween.tween_property(camera_manager.camera, "global_position",
                     camera_target_pos, camera_move_time)
# åˆ é™¤: tween.tween_property(..., "zoom", ...)
```

**ä»£ç ä½ç½®**: [SkillManager.gd:158-162](../../Util/Components/SkillManager.gd#L158-L162)

---

### é—®é¢˜7: æŒ‰Væ—¶æ²¡æœ‰æ®‹å½±æ•ˆæœ

**ç°è±¡**:
- æŒ‰ä¸‹Vé”®åæ²¡æœ‰çœ‹åˆ°æ®‹å½±æ”¾å¤§åŠ¨ç”»
- æ§åˆ¶å°å¯èƒ½æœ‰"Parent node is busy"é”™è¯¯

**åŸå› åˆ†æ**:
- Godotå¼•æ“é™åˆ¶ï¼šåœ¨`_ready`æˆ–å…¶ä»–ç¹å¿™æ—¶åˆ»ç›´æ¥`add_child`ä¼šå¤±è´¥
- æ®‹å½±èŠ‚ç‚¹è¿˜æ²¡æ·»åŠ åˆ°æ ‘ä¸­å°±è°ƒç”¨äº†`create_from_sprite`

**è§£å†³æ–¹æ¡ˆ**:
```gdscript
# ä½¿ç”¨call_deferredå»¶è¿Ÿæ·»åŠ 
body.get_parent().call_deferred("add_child", ghost)

# ç­‰å¾…ä¸‹ä¸€å¸§ç¡®ä¿èŠ‚ç‚¹å·²æ·»åŠ 
await owner_node.get_tree().process_frame

# ç°åœ¨å¯ä»¥å®‰å…¨åœ°åˆ›å»ºç²¾çµ
ghost.create_from_sprite(sprite, body.global_position)
```

**å…³é”®æŠ€æœ¯**:
- `call_deferred`: å»¶è¿Ÿåˆ°å½“å‰å¸§å¤„ç†å®Œæˆåæ‰§è¡Œ
- `await process_frame`: ç­‰å¾…èŠ‚ç‚¹å·²åŠ å…¥åœºæ™¯æ ‘

**ä»£ç ä½ç½®**: [SkillManager.gd:77-90](../../Util/Components/SkillManager.gd#L77-L90)

---

## âš™ï¸ é…ç½®å‚æ•°

### SkillManagerå¯¼å‡ºå‚æ•°

```gdscript
# === ç‰¹æ•ˆè„šæœ¬å¼•ç”¨ ===
@export var GhostExpandEffectScript: Script  # æ®‹å½±æ”¾å¤§æ•ˆæœè„šæœ¬
@export var VortexEffectScript: Script       # æ¼©æ¶¡æ•ˆæœè„šæœ¬
@export var AfterImageEffectScript: Script   # æ®‹å½±æ•ˆæœè„šæœ¬
@export var GatherEffectScript: Script       # èšé›†æ•ˆæœè„šæœ¬

# === æŠ€èƒ½å‚æ•° ===
@export var vortex_distance: float = 200.0       # æ¼©æ¶¡è·ç¦»
@export var gather_distance: float = 100.0       # ï¼ˆå·²å¼ƒç”¨ï¼Œä½¿ç”¨vortex_positionï¼‰
@export var ghost_expand_scale: float = 2.0      # æ®‹å½±æ”¾å¤§å€æ•°
@export var camera_move_time: float = 0.5        # é•œå¤´ç§»åŠ¨æ—¶é—´
@export var gather_time: float = 0.8             # æ•Œäººèšé›†æ—¶é—´
```

### VortexEffectå‚æ•°

```gdscript
@export var radius: float = 60.0                        # æ¼©æ¶¡åŠå¾„
@export var vortex_color: Color = Color(0.4, 0.5, 1.0, 1.0)  # æ¼©æ¶¡é¢œè‰²
@export var spiral_count: int = 4                       # èºæ—‹æ•°é‡
@export var rotation_speed: float = 2.0                 # æ—‹è½¬é€Ÿåº¦
@export var line_width: float = 4.0                     # çº¿å®½
```

### GhostExpandEffectå‚æ•°

```gdscript
@export var scale_multiplier: float = 2.0              # æ”¾å¤§å€æ•°
@export var duration: float = 0.5                      # åŠ¨ç”»æ—¶é•¿
@export var ghost_color: Color = Color(0.8, 0.9, 1.0, 0.7)  # æ®‹å½±é¢œè‰²
```

### å‚æ•°è°ƒä¼˜å»ºè®®

| å‚æ•° | é»˜è®¤å€¼ | å»ºè®®èŒƒå›´ | æ•ˆæœè¯´æ˜ |
|------|--------|----------|----------|
| vortex_distance | 200 | 150-300 | å¤ªå°ä¼šé®æŒ¡è§’è‰²ï¼Œå¤ªå¤§ä¼šè¶…å‡ºå±å¹• |
| vortex_radius | 60 | 40-80 | å½±å“æ¼©æ¶¡å¯è§æ€§ |
| ghost_expand_scale | 2.0 | 1.5-3.0 | æ”¾å¤§å€æ•°è¿‡å¤§å¯èƒ½è¶…å‡ºå±å¹• |
| camera_move_time | 0.5 | 0.3-0.8 | å¤ªå¿«ä¼šçœ©æ™•ï¼Œå¤ªæ…¢ä¼šæ‹–æ²“ |
| gather_time | 0.8 | 0.5-1.2 | æ¯ä¸ªæ•Œäººèšé›†æ—¶é—´ |

---

## ğŸ“ ç›¸å…³æ–‡ä»¶

### æ ¸å¿ƒæ–‡ä»¶

| æ–‡ä»¶è·¯å¾„ | åŠŸèƒ½ | å…³é”®ä¿®æ”¹ |
|---------|------|----------|
| [Util/Components/SkillManager.gd](../../Util/Components/SkillManager.gd) | æŠ€èƒ½ç®¡ç†ä¸»æ§åˆ¶å™¨ | âœ… èšé›†ä½ç½®ä¿®æ­£<br>âœ… æ¼©æ¶¡ç”Ÿå‘½å‘¨æœŸ<br>âœ… æ®‹å½±call_deferred<br>âœ… é•œå¤´æ§åˆ¶ |
| [Util/Effects/GhostExpandEffect.gd](../../Util/Effects/GhostExpandEffect.gd) | æ®‹å½±æ”¾å¤§æ•ˆæœ | âœ… åŒé˜¶æ®µåŠ¨ç”»ï¼ˆæ”¾å¤§â†’ç¼©å°ï¼‰ |
| [Util/Effects/VortexEffect.gd](../../Util/Effects/VortexEffect.gd) | æ¼©æ¶¡ç‰¹æ•ˆ | âœ… å¢å¤§åŠå¾„<br>âœ… æé«˜äº®åº¦<br>âœ… z_index=1 |
| [Scenes/enemies/dinosaur/Scripts/enemy.gd](../../Scenes/enemies/dinosaur/Scripts/enemy.gd) | æ•Œäººç±» | âœ… æ·»åŠ can_moveå±æ€§ |

### çŠ¶æ€æœºæ–‡ä»¶ï¼ˆæ·»åŠ can_moveæ£€æŸ¥ï¼‰

| æ–‡ä»¶è·¯å¾„ | ä¿®æ”¹å†…å®¹ |
|---------|---------|
| [Util/StateMachine/CommonStates/chase_state.gd](../../Util/StateMachine/CommonStates/chase_state.gd) | âœ… can_moveæ£€æŸ¥ |
| [Util/StateMachine/CommonStates/wander_state.gd](../../Util/StateMachine/CommonStates/wander_state.gd) | âœ… can_moveæ£€æŸ¥ |
| [Util/StateMachine/CommonStates/idle_state.gd](../../Util/StateMachine/CommonStates/idle_state.gd) | âœ… can_moveæ£€æŸ¥ |
| [Util/StateMachine/CommonStates/attack_state.gd](../../Util/StateMachine/CommonStates/attack_state.gd) | âœ… can_moveæ£€æŸ¥ |

### ä¾èµ–ç»„ä»¶

- [Util/Classes/GatherEffect.gd](../../Util/Classes/GatherEffect.gd) - æ•Œäººèšé›†æ•ˆæœ
- [Util/Effects/AfterImageEffect.gd](../../Util/Effects/AfterImageEffect.gd) - å†²åˆºæ®‹å½±
- [Util/Components/AnimationComponent.gd](../../Util/Components/AnimationComponent.gd) - åŠ¨ç”»æ’­æ”¾
- [Util/Components/CameraManager.gd](../../Util/Components/CameraManager.gd) - é•œå¤´ç®¡ç†

---

## âœ… éªŒè¯æ¸…å•

### åŠŸèƒ½éªŒè¯

è¿è¡Œæ¸¸æˆå¹¶æŒ‰ä¸‹Vé”®ï¼ŒéªŒè¯ä»¥ä¸‹é¡¹ç›®ï¼š

#### Phase 1 - å¯åŠ¨é˜¶æ®µ
- [ ] ç©å®¶ä½ç½®å‡ºç°æ®‹å½±æ•ˆæœ
  - [ ] æ®‹å½±å¿«é€Ÿæ”¾å¤§åˆ°2å€
  - [ ] ç„¶åç¼©å°å›åŸå§‹å¤§å°
  - [ ] æœ€åæ¸éšæ¶ˆå¤±
- [ ] å¬åˆ°å¿ƒè·³éŸ³æ•ˆ
- [ ] å‰æ–¹200pxå¤„å‡ºç°è“ç´«è‰²æ¼©æ¶¡
  - [ ] æ¼©æ¶¡æ¸…æ™°å¯è§ï¼ˆåŠå¾„60pxï¼‰
  - [ ] æ¼©æ¶¡åœ¨è§’è‰²ä¸Šæ–¹ï¼ˆä¸è¢«é®æŒ¡ï¼‰

#### Phase 2-5 - èšé›†é˜¶æ®µ
- [ ] é•œå¤´ç§»åŠ¨åˆ°æ•Œäººå’Œæ¼©æ¶¡çš„ä¸­ç‚¹ä½ç½®
  - [ ] é•œå¤´**æ²¡æœ‰ç¼©æ”¾**ï¼ˆzoomä¿æŒä¸å˜ï¼‰
  - [ ] ç§»åŠ¨å¹³æ»‘ï¼ˆ0.5ç§’ï¼‰
- [ ] æ•Œäººè¢«æ­£ç¡®çœ©æ™•
  - [ ] æ•Œäºº**å®Œå…¨é™æ­¢**ï¼Œæ— ä»»ä½•ç§»åŠ¨
  - [ ] æ§åˆ¶å°è¾“å‡º"çœ©æ™•æ•Œäºº: [åç§°] ä¿æŒçœ©æ™•"
- [ ] æ•Œäººèšé›†åˆ°æ¼©æ¶¡ä½ç½®
  - [ ] èšé›†ç›®æ ‡æ˜¯æ¼©æ¶¡ä¸­å¿ƒï¼ˆ200pxï¼‰
  - [ ] **ä¸æ˜¯100pxçš„gather_position**
  - [ ] èšé›†åŠ¨ç”»å¹³æ»‘ï¼ˆ0.8ç§’ï¼‰
- [ ] æ¼©æ¶¡æŒç»­å¯è§

#### Phase 6 - æ”»å‡»é˜¶æ®µ
- [ ] ç©å®¶æ®‹å½±å†²åˆºåˆ°æ¼©æ¶¡ä½ç½®
- [ ] æ’­æ”¾æ”»å‡»åŠ¨ç”»
- [ ] **æ¼©æ¶¡åœ¨æ”»å‡»åŠ¨ç”»æ—¶ä»ç„¶å¯è§**
- [ ] æ”»å‡»åŠ¨ç”»ç»“æŸåæ¼©æ¶¡æ¶ˆå¤±

#### Phase 7 - æ¢å¤é˜¶æ®µ
- [ ] æ‰€æœ‰æ•Œäººæ¢å¤ç§»åŠ¨èƒ½åŠ›
- [ ] é•œå¤´å¹³æ»‘è¿”å›ç©å®¶ä½ç½®
- [ ] ç©å®¶å¯ä»¥é‡æ–°æ§åˆ¶ç§»åŠ¨

### ä»£ç éªŒè¯

- [ ] æ‰€æœ‰çŠ¶æ€æœºæ–‡ä»¶éƒ½æœ‰can_moveæ£€æŸ¥
- [ ] `_stun_enemy`æ­£ç¡®è®¾ç½®ä¸‰ä¸ªæ ‡å¿—
- [ ] èšé›†ä½¿ç”¨`_vortex_position`è€Œé`_gather_position`
- [ ] æ¼©æ¶¡åœ¨Phase 6æœ«å°¾éšè—
- [ ] æ®‹å½±ä½¿ç”¨`call_deferred`æ·»åŠ èŠ‚ç‚¹
- [ ] é•œå¤´æ§åˆ¶æ²¡æœ‰zoomç›¸å…³ä»£ç 

### æ€§èƒ½éªŒè¯

- [ ] æ— æ§åˆ¶å°é”™è¯¯æˆ–è­¦å‘Š
- [ ] å¸§ç‡ç¨³å®šï¼Œæ— æ˜æ˜¾å¡é¡¿
- [ ] ç‰¹æ•ˆç»“æŸåèŠ‚ç‚¹æ­£ç¡®æ¸…ç†ï¼ˆæ— å†…å­˜æ³„æ¼ï¼‰

---

## ğŸ”§ è°ƒè¯•æŠ€å·§

### é—®é¢˜ï¼šæ®‹å½±ä¸å‡ºç°
1. æ£€æŸ¥`GhostExpandEffectScript`æ˜¯å¦æ­£ç¡®èµ‹å€¼
2. æŸ¥çœ‹æ§åˆ¶å°æ˜¯å¦æœ‰"Parent node is busy"é”™è¯¯
3. ç¡®è®¤`await process_frame`å­˜åœ¨

### é—®é¢˜ï¼šæ•Œäººè¿˜åœ¨ç§»åŠ¨
1. åœ¨`_stun_enemy`ä¸­æ·»åŠ printè°ƒè¯•
2. æ£€æŸ¥enemy.gdæ˜¯å¦æœ‰`can_move`å±æ€§
3. éªŒè¯æ‰€æœ‰çŠ¶æ€æœºæ–‡ä»¶éƒ½æœ‰can_moveæ£€æŸ¥
4. æŸ¥çœ‹enemy.velocityæ˜¯å¦è¢«å…¶ä»–ä»£ç è¦†ç›–

### é—®é¢˜ï¼šæ¼©æ¶¡çœ‹ä¸åˆ°
1. ä¸´æ—¶å¢å¤§radiusåˆ°100æµ‹è¯•
2. ä¿®æ”¹vortex_colorä¸ºçº¯ç™½è‰²`Color.WHITE`
3. æ£€æŸ¥z_indexæ˜¯å¦è®¾ç½®ä¸º1
4. ç¡®è®¤æ¼©æ¶¡èŠ‚ç‚¹çš„visibleå±æ€§ä¸ºtrue

### é—®é¢˜ï¼šèšé›†ä½ç½®ä¸å¯¹
1. åœ¨`_gather_enemy`è°ƒç”¨å‰æ‰“å°ä½ç½®ï¼š
   ```gdscript
   print("èšé›†ç›®æ ‡: ", _vortex_position + body.global_position)
   ```
2. éªŒè¯ä½¿ç”¨çš„æ˜¯`_vortex_position`è€Œé`_gather_position`

---

## ğŸ“ å¼€å‘ç¬”è®°

### è®¾è®¡å†³ç­–

1. **ä¸ºä»€ä¹ˆæ®‹å½±è¦ç¼©å°å›åŸå§‹å¤§å°ï¼Ÿ**
   - è§†è§‰ä¸Šæ›´ç¬¦åˆ"è“„åŠ›â†’é‡Šæ”¾"çš„æ„Ÿè§‰
   - é¿å…æ®‹å½±è¿‡å¤§å½±å“è§†é‡
   - æ¸éšæ•ˆæœæ›´è‡ªç„¶

2. **ä¸ºä»€ä¹ˆæ•Œäººéœ€è¦ä¸‰é‡åœæ­¢æœºåˆ¶ï¼Ÿ**
   - `stunned`: ä¸šåŠ¡é€»è¾‘å±‚ï¼Œä¾›å…¶ä»–ç³»ç»Ÿåˆ¤æ–­
   - `can_move`: æƒé™æ§åˆ¶å±‚ï¼ŒçŠ¶æ€æœºä¼˜å…ˆæ£€æŸ¥
   - `velocity = 0`: ç‰©ç†å±‚ï¼Œç›´æ¥æ¸…é›¶é€Ÿåº¦
   - ä¸‰å±‚ç¡®ä¿ä¸‡æ— ä¸€å¤±

3. **ä¸ºä»€ä¹ˆé•œå¤´ä¸ç¼©æ”¾ï¼Ÿ**
   - ç¼©æ”¾ä¼šå¯¼è‡´ç”»é¢è·³åŠ¨ï¼Œå½±å“ä½“éªŒ
   - ç©å®¶éœ€è¦ä¿æŒå¯¹æ•´ä½“æˆ˜åœºçš„æ„ŸçŸ¥
   - åªç§»åŠ¨ä½ç½®èƒ½æ¸…æ¥šå±•ç¤ºèšé›†è¿‡ç¨‹

4. **ä¸ºä»€ä¹ˆæ¼©æ¶¡è¦æŒç»­åˆ°æ”»å‡»ç»“æŸï¼Ÿ**
   - æä¾›æ¸…æ™°çš„è§†è§‰ç›®æ ‡
   - å¢å¼ºæŠ€èƒ½çš„"ä»ªå¼æ„Ÿ"
   - è®©ç©å®¶æ˜ç¡®æ”»å‡»å‘ç”Ÿçš„ä½ç½®

### å·²çŸ¥é™åˆ¶

1. **å¤šä¸ªæ•Œäººæ—¶é•œå¤´é¢‘ç¹ç§»åŠ¨**
   - å½“å‰å®ç°ï¼šé€ä¸ªå¤„ç†æ•Œäººï¼Œæ¯æ¬¡ç§»åŠ¨é•œå¤´
   - å¯èƒ½ä¼˜åŒ–ï¼šå¹¶è¡Œèšé›†æ‰€æœ‰æ•Œäººï¼Œé•œå¤´åªç§»åŠ¨ä¸€æ¬¡åˆ°ä¸­å¿ƒä½ç½®
   - æš‚ä¸ä¿®æ”¹ï¼šå½“å‰å®ç°æ›´æœ‰èŠ‚å¥æ„Ÿ

2. **æ•Œäººæ•°é‡è¿‡å¤šæ—¶æŠ€èƒ½æ—¶é—´è¿‡é•¿**
   - æ¯ä¸ªæ•Œäººèšé›†æ—¶é—´å›ºå®š0.8ç§’
   - 10ä¸ªæ•Œäººéœ€è¦8ç§’
   - å¯èƒ½ä¼˜åŒ–ï¼šé™åˆ¶æœ€å¤§æ•Œäººæ•°é‡æˆ–ç¼©çŸ­å•æ¬¡èšé›†æ—¶é—´

### æœªæ¥ä¼˜åŒ–æ–¹å‘

1. **æ€§èƒ½ä¼˜åŒ–**
   - å¯¹è±¡æ± ç®¡ç†ç‰¹æ•ˆèŠ‚ç‚¹ï¼ˆé¿å…é¢‘ç¹åˆ›å»ºé”€æ¯ï¼‰
   - é™åˆ¶åŒæ—¶å¤„ç†çš„æ•Œäººæ•°é‡
   - ä½¿ç”¨Shaderå®ç°éƒ¨åˆ†ç‰¹æ•ˆ

2. **è§†è§‰ä¼˜åŒ–**
   - æ·»åŠ æ›´å¤šç²’å­æ•ˆæœ
   - æ¼©æ¶¡æ·»åŠ å¸å¼•ç²’å­æµ
   - æ”»å‡»æ—¶æ·»åŠ å†²å‡»æ³¢æ•ˆæœ

3. **ä½“éªŒä¼˜åŒ–**
   - æ·»åŠ æŠ€èƒ½CDæ˜¾ç¤º
   - æ·»åŠ æŠ€èƒ½è“„åŠ›è¿›åº¦æ¡
   - æ·»åŠ æŠ€èƒ½èŒƒå›´é¢„è§ˆ

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [ç»„ä»¶ç³»ç»Ÿæ¶æ„](../architecture/03_component_system_architecture.md)
- [ä¿¡å·é©±åŠ¨æ¶æ„](../architecture/04_signal_driven_architecture.md)
- [æŠ€èƒ½ç³»ç»Ÿæ¶æ„](../architecture/06_skill_system_architecture.md)
- [çŠ¶æ€æœºæ¶æ„](../architecture/01_state_machine_architecture.md)

---

## ğŸ•’ æ›´æ–°æ—¥å¿—

| æ—¥æœŸ | ç‰ˆæœ¬ | ä¿®æ”¹å†…å®¹ | ä½œè€… |
|------|------|----------|------|
| 2026-01-25 | 1.0 | åˆ›å»ºæ–‡æ¡£ï¼Œè®°å½•å®Œæ•´è®¾è®¡å’Œå®ç° | Claude |
| 2026-01-25 | 1.1 | æ·»åŠ æ‰€æœ‰é—®é¢˜çš„è§£å†³æ–¹æ¡ˆå’ŒéªŒè¯æ¸…å• | Claude |

---

**æ–‡æ¡£çŠ¶æ€**: âœ… å®Œæ•´
**ä¸‹ä¸€æ­¥**: ç”¨æˆ·éªŒè¯åŠŸèƒ½æ˜¯å¦ç¬¦åˆé¢„æœŸ
