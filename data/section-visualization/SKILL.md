---
name: section-visualization
description: Generate comprehensive R data visualization tutorials (ggplot2, chart types, styling, publication-ready plots) with theory + practice workflow. Use when: (1) User requests visualization tutorials, (2) File names match 20xx-*.rmd pattern, (3) Keywords: boxplot, scatterplot, heatmap, forestplot, sankey, ggplot2 styling, color palettes.
---
## æ ¸å¿ƒä»»åŠ¡

ç”Ÿæˆæ•°æ®å¯è§†åŒ–ç±»æ•™ç¨‹ (.rmd/.qmd)ï¼Œæ¶µç›–å›¾è¡¨åŸç†ã€ç»˜å›¾ä»£ç ã€æ ·å¼ç¾åŒ–ã€ç»“æœè§£è¯»ã€‚

## å¿«é€Ÿå¯åŠ¨ (Quick Start)

1. **ç¡®å®šå›¾è¡¨**: å¦‚ "ç®±çº¿å›¾ (Boxplot)"ã€‚
2. **åŠ è½½æ¨¡æ¿**: é˜…è¯» [content-structure.md](references/content-structure.md) è·å– YAML å’Œæ ‡é¢˜ç»“æ„ã€‚
3. **ç”Ÿæˆå†…å®¹**: éµå¾ª "å›¾è¡¨ç”¨é€” -> æ•°æ®å‡†å¤‡ -> ç»˜å›¾æµç¨‹ -> ç¾åŒ–æŠ€å·§ -> è§£è¯»è¯´æ˜" æµç¨‹ã€‚
4. **è§†è§‰è®¾è®¡**: å‚è€ƒ [visual-templates.md](references/visual-templates.md) ç”Ÿæˆå°é¢å›¾å’ŒåŸç†ç¤ºæ„å›¾ã€‚
5. **è´¨é‡æ£€æŸ¥**: ä½¿ç”¨ [quality-checklist.md](references/quality-checklist.md) éªŒè¯å¯¼èˆªæ›´æ–°ã€‚

## å®Œæ•´å·¥ä½œæµç¨‹

### æ­¥éª¤1: é€éƒ¨åˆ†ç”Ÿæˆæ•™ç¨‹å†…å®¹ï¼ˆCRITICAL - åˆ†æ®µç”Ÿæˆç­–ç•¥ï¼‰

**âš ï¸ é‡è¦ï¼šæ•™ç¨‹å†…å®¹è¶…è¿‡ 300 è¡Œæ—¶å¿…é¡»åˆ†æ®µç”Ÿæˆï¼Œé¿å…ä¸€æ¬¡æ€§è¾“å‡ºè¿‡é•¿å†…å®¹ã€‚**

**åˆ†æ®µç”Ÿæˆæµç¨‹**ï¼š

1. **ç¬¬ä¸€éƒ¨åˆ†**ï¼šç”Ÿæˆ YAML å¤´éƒ¨ + Setup + å›¾è¡¨ç”¨é€” + æ•°æ®å‡†å¤‡ + åŸºç¡€å›¾è¡¨ï¼ˆçº¦ 150-200 è¡Œï¼‰
2. **ç¬¬äºŒéƒ¨åˆ†**ï¼šè¿½åŠ ä¸­çº§å›¾è¡¨ + ç¾åŒ–æŠ€å·§ + ä¸»é¢˜å®šåˆ¶ï¼ˆçº¦ 150-200 è¡Œï¼‰
3. **ç¬¬ä¸‰éƒ¨åˆ†**ï¼šè¿½åŠ é«˜çº§åº”ç”¨ + å¸¸è§é—®é¢˜ + ç›¸å…³èµ„æºï¼ˆçº¦ 100-150 è¡Œï¼‰
4. **éªŒè¯å®Œæ•´æ€§**ï¼šç¡®è®¤è‡³å°‘åŒ…å« 3 ä¸ªå›¾è¡¨ç¤ºä¾‹

**å†…å®¹ç”Ÿæˆè¦æ±‚**ï¼š
- **å¿…é¡»åŒ…å«**: è‡³å°‘ 3 ä¸ªå›¾è¡¨ç¤ºä¾‹ï¼ˆåŸºç¡€ â†’ ä¸­çº§ â†’ é«˜çº§ï¼‰
- **å¯å¤ç°æ€§**: æ‰€æœ‰éšæœºæ•°æ®å¿…é¡»è®¾ç½®ç§å­ `set.seed(2026)`

### æ­¥éª¤1.5: ç”Ÿæˆé…å›¾å¹¶åœ¨æ–‡ç« ä¸­å¼•ç”¨ï¼ˆCRITICALï¼‰

**âš ï¸ å¿…é¡»å®Œæˆçš„ä¸¤æ­¥æ“ä½œ**ï¼š

**ç¬¬ä¸€æ­¥ï¼šç”Ÿæˆå›¾ç‰‡æ–‡ä»¶**

1. **å°é¢å›¾ (MANDATORY)**: 
   - è·¯å¾„ï¼š`doc/images/[number]-[topic]-cover.svg`
   - é£æ ¼ï¼šè§†è§‰å¸å¼•ã€å±•ç¤ºå›¾è¡¨ç±»å‹

2. **æ–‡å†…ç¤ºæ„å›¾ (MANDATORY - æ¯ç¯‡è‡³å°‘ 1 å¼ )**ï¼š
   - è·¯å¾„ï¼š`doc/images/diagrams/viz-*.svg`
   - æ ¼å¼ï¼š**å¿…é¡»ä½¿ç”¨ SVG æ ¼å¼**ï¼ˆæ‰©å±•åå¿…é¡»æ˜¯ .svgï¼‰
   - **å°ºå¯¸è¦æ±‚**ï¼ˆCRITICALï¼‰ï¼š
     - **æ¨èæ ‡å‡†å°ºå¯¸**: `viewBox="0 0 1400 800"` (å®½ 1400, é«˜ 800)
     - **å¯¹æ¯”è¡¨æ ¼å›¾**: 1400Ã—800ï½1400Ã—900 (æ¨ªå‘å®½å¹…)
     - **å†³ç­–æ ‘**: 1400Ã—800 (æ¨ªå‘å¸ƒå±€ï¼Œé¿å…è¿‡é«˜å¯¼è‡´æ˜¾ç¤ºä¸å…¨)
     - **é…è‰²æ–¹æ¡ˆå±•ç¤º**: 1200Ã—600ï½1400Ã—700
     - **å¸ƒå±€ç¤ºæ„å›¾**: 1000Ã—600ï½1200Ã—700
     - âš ï¸ **é¿å…**: è¿‡é«˜çš„çºµå‘å¸ƒå±€ (å¦‚ 1000Ã—1100)ï¼Œä¼šå¯¼è‡´æ˜¾ç¤ºä¸å…¨
   - ç”¨é€”ï¼š**å›¾è¡¨ç±»å‹å¯¹æ¯”ã€é…è‰²æ–¹æ¡ˆã€å¸ƒå±€ç»“æ„**
   - ç¤ºä¾‹åœºæ™¯ï¼š
     - å›¾è¡¨ç±»å‹é€‰æ‹©å†³ç­–æ ‘
     - å¸¸ç”¨é…è‰²æ–¹æ¡ˆå±•ç¤º
     - å¸ƒå±€æ’åˆ—ç¤ºä¾‹
     - ggplot2 å›¾å±‚ç»“æ„å›¾
     - å›¾è¡¨å¯¹æ¯”è¡¨æ ¼

**ç¬¬äºŒæ­¥ï¼šåœ¨æ–‡ç« ä¸­å¼•ç”¨å›¾ç‰‡ï¼ˆCRITICALï¼‰**

âš ï¸ **ç”Ÿæˆå›¾ç‰‡åå¿…é¡»ç«‹å³ç”¨ Markdown è¯­æ³•åœ¨æ–‡ç« ä¸­å¼•ç”¨ï¼**

```markdown
## å›¾è¡¨ç±»å‹é€‰æ‹©æŒ‡å—

![å¸¸è§å›¾è¡¨ç±»å‹é€‰æ‹©å†³ç­–æ ‘](images/diagrams/viz-chart-selection.svg)

**ä½¿ç”¨è¯´æ˜**ï¼šæ ¹æ®æ•°æ®ç±»å‹å’Œå±•ç¤ºç›®çš„ï¼Œå‚è€ƒä¸Šå›¾å¿«é€Ÿé€‰æ‹©åˆé€‚çš„å›¾è¡¨ã€‚
```

**æ’å…¥ä½ç½®**ï¼š
- é…è‰²æ–¹æ¡ˆå›¾ â†’ "é…è‰²æ–¹æ¡ˆ"ç« èŠ‚
- å›¾è¡¨é€‰æ‹©æ ‘ â†’ "å›¾è¡¨ç”¨é€”"ç« èŠ‚
- å¸ƒå±€ç¤ºä¾‹ â†’ "å›¾å½¢ç»„åˆ"ç« èŠ‚

**éªŒè¯**ï¼š
```bash
grep "!\[.*\](images/diagrams/" doc/[number]-[topic].rmd
```

### æ­¥éª¤2: éªŒè¯æ¸²æŸ“ (CRITICAL)

åœ¨æäº¤å‰å¿…é¡»è¿›è¡Œæœ¬åœ°æ¸²æŸ“éªŒè¯ï¼Œç¡®ä¿ä»£ç å¯è¿è¡Œä¸”å›¾ç‰‡ç”Ÿæˆæ­£ç¡®ã€‚

```bash
# æ¸²æŸ“å•æ–‡ä»¶éªŒè¯å†…å®¹
quarto render doc/20[number]-[topic].rmd

# ç¡®ä¿å›¾ç‰‡ç”Ÿæˆåœ¨ doc/figure/ ç›®å½•ä¸‹ï¼Œæ— æŠ¥é”™
```

### æ­¥éª¤3: æ›´æ–°å¯¼èˆªç³»ç»Ÿ (CRITICAL)

å¿…é¡»æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼Œå¦åˆ™æ–°æ–‡ç« æ— æ³•åœ¨ç½‘ç«™ä¾§è¾¹æ å’Œåˆ†ç±»é¡µæ˜¾ç¤ºã€‚

1. **æ›´æ–° `doc/_quarto.yml`**:

   - æ‰¾åˆ° `sidebar` -> `contents` -> `æ•°æ®å¯è§†åŒ–` éƒ¨åˆ†ã€‚
   - æ·»åŠ æ–°æ¡ç›®ï¼Œ**æ³¨æ„ç¼©è¿›**:
     ```yaml
               - text: "æ–‡ç« æ ‡é¢˜"
                 href: "20xx-filename.rmd"
     ```
2. **æ›´æ–° `doc/0001-guide.rmd`**:

   - åœ¨å¯¹åº”åˆ†ç±»çš„è¡¨æ ¼ä¸­æ·»åŠ ä¸€è¡Œï¼š
     ```markdown
     | [å›¾è¡¨å] | [æ–‡ç« æ ‡é¢˜](20xx-filename.html) | [ç®€çŸ­è¯´æ˜] |
     ```
3. **è¿è¡Œè‡ªåŠ¨ç”Ÿæˆè„šæœ¬ (MANDATORY)**:

   - æ­¤è„šæœ¬ä¼šæ ¹æ® `_quarto.yml` æ›´æ–° `sections/visualization.qmd` ç­‰åˆ†ç±»ç´¢å¼•é¡µã€‚

   ```bash
   # åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œ
   workdir="doc" Rscript doc/generate_sections.R
   ```
4. **æ›´æ–° `README.md`**:

   - åœ¨ `ğŸ§­ å†…å®¹å¯¼èˆª` -> `ğŸ“ˆ æ•°æ®å¯è§†åŒ–` çš„å¯¹åº”è¡¨æ ¼ä¸­æ·»åŠ é“¾æ¥ã€‚

### æ­¥éª¤4: æœ€ç»ˆæ¸²æŸ“ä¸æäº¤

1. **é‡æ–°æ¸²æŸ“å—å½±å“é¡µé¢**:

   ```bash
   quarto render doc/sections/visualization.qmd
   quarto render doc/index.qmd
   ```
2. **æäº¤ä»£ç **:

   ```bash
   git add doc/20xx-*.rmd doc/images/[topic]-cover.svg
   git add doc/_quarto.yml doc/0001-guide.rmd README.md doc/sections/visualization.qmd
   git commit -m "feat(viz): æ–°å¢[å›¾è¡¨ç±»å‹]å¯è§†åŒ–æ•™ç¨‹"
   ```

## å†™ä½œè§„èŒƒ

- **å†…å®¹æ ‡å‡†**:
  - **è¯¦ç»†åº¦**: å†…å®¹å¿…é¡»è¯¦å°½ï¼Œèµ·åˆ°æ·±å…¥æ•™ç¨‹çš„ä½œç”¨ã€‚
  - **ç¯‡å¹…**: ä¸å°‘äº 300 è¡Œ (Not less than 300 lines)ã€‚
  - **æ¯”ä¾‹**: æ–‡å­—è¯´æ˜çº¦å  70%ï¼Œä»£ç çº¦å  30% (70% text, 30% code)ã€‚
  - **ç»“æ„**: å¿…é¡»æå‰æ„å»ºå…¨é¢çš„å†…å®¹æ¡†æ¶ï¼Œç„¶åæ ¹æ®æ¡†æ¶å¡«å……è¯¦ç»†å†…å®¹ã€‚
- **å›¾æ–‡æ¯”ä¾‹**: ç›®æ ‡æ˜¯æ¯ä¸ªä»£ç å—éƒ½æœ‰å¯¹åº”çš„å›¾è¡¨è¾“å‡ºã€‚
- **é…è‰²**: ä¼˜å…ˆä½¿ç”¨ `ggsci` æœŸåˆŠé…è‰²ã€`ColorBrewer` æˆ– `viridis` (è‰²ç›²å‹å¥½)ã€‚
- **æ³¨é‡Š**: æ¯å¼ å›¾éƒ½è¦åŒ…å«æ ‡é¢˜ã€åæ ‡è½´æ ‡ç­¾ã€å›¾ä¾‹æ ‡é¢˜ã€‚

## å‚è€ƒèµ„æº

- [content-structure.md](references/content-structure.md): è¯¦ç»†å†…å®¹æ¨¡æ¿ä¸æ ‡é¢˜è§„èŒƒã€‚
- [visual-templates.md](references/visual-templates.md): SVG å°é¢ä¸ç¤ºæ„å›¾æ¨¡æ¿åº“ã€‚
- [quality-checklist.md](references/quality-checklist.md): å®Œæ•´è´¨é‡æ£€æŸ¥ä¸å¯¼èˆªæ›´æ–°æŒ‡å—ã€‚
- [color-palettes.md](references/color-palettes.md): å¸¸ç”¨é…è‰²æ–¹æ¡ˆå‚è€ƒã€‚
