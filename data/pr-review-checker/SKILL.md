---
name: pr-review-checker
description: PRに付いたレビューコメントを確認し、修正対応を実行する。「レビューコメント確認」「レビュー対応」「PRコメント確認」「レビュー修正」などで起動。
allowed-tools: [Read, Edit, Write, Bash, Glob, Grep]
---

# PR Review Checker

PRに付いたレビューコメントを確認し、修正対応を実行するスキル。

## 自動適用条件

- PRレビューコメントの確認要求がある場合
- レビューコメントへの対応が必要な場合
- 指摘事項の修正要求がある場合

## 判断基準・ルール

### PRの特定

- PR番号が指定されている場合: そのPRのコメントを確認
- PR番号が指定されていない場合: 現在のブランチのPRを自動検出

### コメントの分類

取得したコメントを以下のように分類:
- **must.** - 修正必須（構造違反、セキュリティ、命名規則）
- **imo.** - 改善提案（プロンプト品質、責務分離、ドキュメント）
- **nits.** - 軽微な指摘（タイポ、誤字脱字のみ）
- **q.** - 質問（設計意図、想定ユーザー）

### 修正の優先度

1. **must.** - 必ず修正する
2. **imo.** - 基本的に修正する（妥当な理由があればスキップ可）
3. **nits.** - 修正する
4. **q.** - 回答をコメントで返信

### 修正の実行

- `--fix` オプションがある場合のみ修正を実行
- 各指摘事項について適切な修正を実行
- 修正内容を記録

### 返信の投稿

- `--reply` オプションがある場合のみ返信を投稿
- 修正完了の報告や質問への回答を含める

## 実行方法

このスキルの実行手順は `/pr-review-check` コマンド（`.claude/commands/pr-review-check.md`）を参照してください。

## 重要な注意事項

- ✅ PR番号が指定されていない場合は現在のブランチのPRを自動検出
- ✅ `--fix` がない場合は確認のみで修正は実行しない
- ✅ `--reply` を使用する場合は `--fix` も推奨（修正後に返信するため）
- ✅ `gh` コマンドを使用してPR情報とレビューコメントを取得・投稿
- ❌ 修正できない指摘事項がある場合は、その旨を報告
