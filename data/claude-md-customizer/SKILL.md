---
name: claude-md-customizer
description: 対話形式の質問を通じてユーザーの技術的背景、開発スタイル、AI協働の好みを把握し、最適化されたCLAUDE.mdを生成するスキル。ユーザーが「CLAUDE.mdをカスタマイズしたい」「AIの振る舞いを自分に合わせたい」「開発スタイルに合わせた設定がしたい」と言った時に使用する。新規ユーザーのオンボーディングや、既存CLAUDE.mdの見直し時にも有効。
---

# CLAUDE.md Customizer

対話形式の質問でユーザープロファイルを把握し、パーソナライズされたCLAUDE.mdを生成する。

## ワークフロー

```
1. 既存CLAUDE.md確認 → 2. 4カテゴリ質問 → 3. CLAUDE.md生成 → 4. 確認・調整
```

### Step 1: 既存CLAUDE.mdの確認

```bash
# グローバルCLAUDE.md
cat ~/.claude/CLAUDE.md 2>/dev/null || echo "なし"

# プロジェクトCLAUDE.md
cat ./CLAUDE.md 2>/dev/null || echo "なし"
```

既存設定がある場合はユーザーに確認:
- 上書き: 新規生成で完全置換
- マージ: 既存設定を保持しつつ追加・更新
- キャンセル: 処理中止

### Step 2: 質問フェーズ

4カテゴリの質問を**段階的に**行う。一度に全質問を投げず、カテゴリごとに進める。
詳細は [references/questions.md](references/questions.md) を参照。

**質問カテゴリ**:
1. 技術的背景（言語、経験、プロジェクト、得意/苦手領域）
2. 開発スタイル（コード書き方、新技術への姿勢、チーム構成、テスト/ドキュメント）
3. AI協働スタイル（任せたい範囲、出力形式、説明の詳しさ、改善提案の積極性）
4. コミュニケーション（簡潔さ、コメント量、言語設定、選択肢提示方法）

**質問のコツ**:
- 各カテゴリ2-3問に絞る（全質問する必要なし）
- 回答から推測できることは追加質問しない
- ユーザーが「スキップ」と言ったらデフォルト値を使用

### Step 3: CLAUDE.md生成

回答に基づき、[references/generation-guide.md](references/generation-guide.md) のパターンを組み合わせてCLAUDE.mdを生成。

**生成先の選択**:
```
- ~/.claude/CLAUDE.md        # グローバル（全プロジェクト共通）
- ./CLAUDE.md                # プロジェクト固有
- 両方                       # 共通設定はグローバル、プロジェクト固有は個別
```

### Step 4: 確認・調整

生成したCLAUDE.mdをユーザーに提示し、以下を確認:
- 追加したい設定があるか
- 削除・修正したい部分があるか
- 適用先（グローバル/プロジェクト）は正しいか

確認後、ファイルに書き込む。

## 出力例

```markdown
# CLAUDE.md - AI開発アシスタント設定

## 言語・コミュニケーション
- 応答言語: 日本語
- コード内コメント: 日本語
- 説明の詳しさ: 簡潔（必要に応じて詳細を質問）

## 開発スタイル
- アプローチ: TDD（テスト駆動開発）
- リファクタリング: 動くコードを先に作り、後でリファクタ
- 提案スタイル: ベスト案を1つ提示（理由付き）

## AI協働
- 主な役割: コード生成、レビュー、設計相談
- 介入度: 積極的に改善提案
- 出力形式: 完成コード（説明は最小限）

## 技術スタック
- 主要言語: TypeScript, Python
- フレームワーク: React, FastAPI
- 得意領域: フロントエンド、API設計
```

## 注意事項

- 質問は押し付けがましくならないよう配慮
- ユーザーが疲れた様子なら残りはデフォルト値で補完
- 生成したCLAUDE.mdは必ずユーザー確認後に書き込む
