---
name: obsidian-clipping-tagging
description: >
  Analyze Obsidian clipping markdown files and generate consistent Japanese content tags
  (max 5, lowercase, singular, no time/place/state tags) while preserving existing YAML frontmatter.
  Use this when working with clipping notes under the Obsidian vault.
---

# Obsidian クリッピング自動タグ付け Skill

## このSkillを使うべきタイミング

- Obsidianの「クリッピング」ノート（主に `02_Clippings/` 以下の `.md`）に対して:
  - 内容に基づいて **日本語タグ** を自動生成したいとき
  - 既存のタグを、プロジェクト共通ルールに沿って整理したいとき
  - YAML front matter を壊さずに `tags` をメンテナンスしたいとき

## 前提ルール（必ず守ること）

1. **タグの形式**
   - 日本語小文字で記述する（全角・半角の揺れは避け、自然な日本語にする）
   - 単数形で統一する（例: `読書` / `投資` / `デザイン`）
   - 1つのノートにつき **最大5個** まで
2. **内容ベースのタグのみ**
   - ノート本文の「テーマ・概念・スキル・分野」に基づいたタグだけを使う
   - 次のようなタグは **禁止**:
     - 状態タグ（例: `未整理`, `途中`, `メモ`）
     - 時間タグ（例: `2025`, `12月`, `朝`）
     - 場所タグ（例: `京都`, `自宅`, `カフェ`）
3. **フォルダー構造は無視**
   - `02_Clippings/` 以下のフォルダ名や階層に影響されず、**本文内容だけからタグを決める**
4. **YAML front matter の扱い**
   - 既存の YAML front matter は **必ず保持** し、他のキーは削除・変更しない
   - すでに `tags` がある場合は、ルールに合うように整理・統合する
   - フロントマターが無い場合は、新しく YAML front matter を追加してよい
5. **ファイル操作の制限**
   - このSkillでは **ファイルの移動・削除・リネームは行わない**
   - 行うのは、YAML front matter 内の `tags` の追加・整理・更新のみ

## 基本フロー

1. **ノートの読み取り**
   - 対象の `.md` ファイルを読み、以下を把握する:
     - タイトル
     - 見出し構造
     - 本文の要点
     - すでに存在するタグ（YAML / 本文内のハッシュタグ）
2. **内容の要約（内部思考）**
   - 人間が読むことを想定して、ノートの内容を 2〜4文で要約する
   - 要約はそのままユーザーに返さなくてもよいが、タグ決定の基盤として利用する
3. **タグ候補の生成**
   - 要約に基づき、「このノートを後から探すときに役立つ」内容タグを 3〜7個ほど内部で列挙する
   - その中から、ルールに従って **最大5個** を選ぶ
4. **既存タグとの統合**
   - すでに `tags` がある場合:
     - ルールに反するタグ（状態・時間・場所など）を候補から外す
     - 意味が重複しているものは統合する（例: `プロダクト` と `プロダクト開発` など）
5. **最終タグリストの決定**
   - 1ファイルあたり 1〜5個のタグに絞り込む
   - 汎用すぎるタグ（例: `メモ`, `記事`）だけで終わらないようにする
6. **YAML front matter への反映**
   - 既存のYAMLを壊さないよう注意しつつ、`tags` を次の形式で記述する:

   ```yaml
   ---
   title: 既存のタイトル
   # ほかの既存フィールド
   tags:
     - デザイン
     - マーケティング
     - プロダクト開発
   ---
   ```

   - すべてのリスト要素はハイフン+スペースのYAML配列表記を使う

## 出力フォーマット

このSkillを使うときの **最終出力** は、必ず次の2部構成にする:

1. **タグ決定の理由（人間向け説明）**
   - 箇条書きで、どのような観点からタグを選んだかを日本語で説明する
   - 例:
     - 本文の中心が「UIデザイン事例」であるため `デザイン` を付与
     - 事業戦略や売上モデルの考察が多いため `ビジネス`, `戦略` を付与
2. **更新後のYAML front matter 全体**
   - ファイル先頭の `---` から `---` までを **完全な形で** 日本語コードブロックとして出力する
   - 例:

   ```yaml
   ---
   title: 〇〇という記事のクリッピング
   source: https://example.com
   created: 2025-12-10
   tags:
     - デザイン
     - プロダクト開発
     - ブランディング
   ---
   ```

## 注意点・アンチパターン

- 「未整理」「要分類」「あとで読む」などの一時的・状態系タグは **絶対に付与しない**
- 単語が抽象的すぎる場合（例: `情報`, `記事`, `考え`）は、**もう一段具体的な概念** に置き換える
- フォルダ名（例: `1_コレクション_プロダクト_IT`）をそのままタグにしない  
  - どうしても必要な場合は、内容に即した短いラベル（例: `プロダクト`, `IT`, `UIデザイン` など）に変換する

## 例

### 入力例（要約）

- SaaSプロダクトの料金プラン設計とUIデザイン事例をまとめたクリッピング
- LTVやチャーンレートなど、ビジネス指標の話も含まれている

### 適切なタグ例

- `プロダクト開発`
- `デザイン`
- `UI`
- `ビジネス`
- `SaaS`


