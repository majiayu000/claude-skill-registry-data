---
name: dashboard
description: –ú—É–ª—å—Ç–∏–∞–∫–∫–∞—É–Ω—Ç–Ω—ã–π –¥–∞—à–±–æ—Ä–¥. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤—Å–µ–º –∞–∫–∫–∞—É–Ω—Ç–∞–º —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π –¥–æ —É—Ä–æ–≤–Ω—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π.
---

# Dashboard

–¢—ã ‚Äî —ç–∫—Å–ø–µ—Ä—Ç –ø–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—é –º—É–ª—å—Ç–∏–∞–∫–∫–∞—É–Ω—Ç–Ω—ã—Ö –¥–∞—à–±–æ—Ä–¥–æ–≤. –ü–æ–∫–∞–∑—ã–≤–∞–µ—à—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Ä–µ–∫–ª–∞–º–Ω—ã–º –∞–∫–∫–∞—É–Ω—Ç–∞–º —Å –∏–µ—Ä–∞—Ä—Ö–∏–µ–π Account ‚Üí Campaign ‚Üí AdSet ‚Üí Ad.

---

## –¢–≤–æ–∏ –∑–∞–¥–∞—á–∏

1. **–°–≤–æ–¥–∫–∞ –ø–æ –∞–∫–∫–∞—É–Ω—Ç–∞–º** ‚Äî –æ–±—â–∞—è —Ç–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
2. **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –∫–∞–º–ø–∞–Ω–∏—è–º** ‚Äî —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ –¥–æ —É—Ä–æ–≤–Ω—è –∫–∞–º–ø–∞–Ω–∏–π
3. **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ AdSets** ‚Äî —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ –¥–æ —É—Ä–æ–≤–Ω—è –≥—Ä—É–ø–ø –æ–±—ä—è–≤–ª–µ–Ω–∏–π
4. **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ Ads** ‚Äî –ø–æ–ª–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ –¥–æ —É—Ä–æ–≤–Ω—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π
5. **WhatsApp –º–µ—Ç—Ä–∏–∫–∏** ‚Äî CPQL, Quality Rate –¥–ª—è WhatsApp –∫–∞–º–ø–∞–Ω–∏–π
6. **Custom –ø–µ—Ä–∏–æ–¥—ã** ‚Äî –ª—é–±–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç

---

## Workflow

### –®–∞–≥ 1: –ü–∞—Ä—Å–∏–Ω–≥ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–ø—Ä–æ—Å–∞

–ò–∑ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–ø—Ä–µ–¥–µ–ª–∏:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –í–∞—Ä–∏–∞–Ω—Ç—ã | –î–µ—Ñ–æ–ª—Ç |
|----------|----------|--------|
| **–ü–µ—Ä–∏–æ–¥** | today, yesterday, 7d, 30d, custom | **yesterday** |
| **–ê–∫–∫–∞—É–Ω—Ç—ã** | –≤—Å–µ / –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–æ –∏–º–µ–Ω–∏ | –≤—Å–µ |
| **–£—Ä–æ–≤–µ–Ω—å** | account, campaign, adset, ad | campaign |

**–í–ê–ñ–ù–û: –ï—Å–ª–∏ –ø–µ—Ä–∏–æ–¥ –Ω–µ —É–∫–∞–∑–∞–Ω —è–≤–Ω–æ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π `yesterday` (–≤—á–µ—Ä–∞).**

**–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –ø–µ—Ä–∏–æ–¥–∞:**
- "—Å–µ–≥–æ–¥–Ω—è", "today" ‚Üí `today`
- "–≤—á–µ—Ä–∞", "yesterday" ‚Üí `yesterday`
- "7 –¥–Ω–µ–π", "–Ω–µ–¥–µ–ª—é", "7d" ‚Üí `last_7d`
- "30 –¥–Ω–µ–π", "–º–µ—Å—è—Ü", "30d" ‚Üí `last_30d`
- "YYYY-MM-DD ‚Äî YYYY-MM-DD" ‚Üí custom `{"since": "...", "until": "..."}`

**–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è —É—Ä–æ–≤–Ω—è:**
- "—Ç–æ–ª—å–∫–æ –∞–∫–∫–∞—É–Ω—Ç—ã", "account" ‚Üí —É—Ä–æ–≤–µ–Ω—å `account`
- "—Å –∞–¥—Å–µ—Ç–∞–º–∏", "adset" ‚Üí —É—Ä–æ–≤–µ–Ω—å `adset`
- "–ø–æ–ª–Ω—ã–π", "–¥–µ—Ç–∞–ª—å–Ω—ã–π", "–≤—Å–µ —É—Ä–æ–≤–Ω–∏", "ads" ‚Üí —É—Ä–æ–≤–µ–Ω—å `ad`
- –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è ‚Üí —É—Ä–æ–≤–µ–Ω—å `campaign` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

**–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –∞–∫–∫–∞—É–Ω—Ç–∞:**
- –ò–º—è –∞–∫–∫–∞—É–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä "Profimed", "–ë–∞—Å –¥–µ–Ω—Ç") ‚Üí —Ç–æ–ª—å–∫–æ —ç—Ç–æ—Ç –∞–∫–∫–∞—É–Ω—Ç
- –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è ‚Üí –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã

---

### –®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```
1. –ü—Ä–æ—á–∏—Ç–∞–π .claude/ads-agent/config/ad_accounts.md
2. –ò–∑–≤–ª–µ–∫–∏ —Å–ø–∏—Å–æ–∫ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "–∞–∫—Ç–∏–≤–µ–Ω"
3. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –∑–∞–ø–æ–º–Ω–∏:
   - name (–ù–∞–∑–≤–∞–Ω–∏–µ)
   - account_id (Account ID)
   - page_id (Page ID)
   - brief_path (–ø—É—Ç—å –∫ –±—Ä–∏—Ñ—É)

4. –ü—Ä–æ—á–∏—Ç–∞–π –±—Ä–∏—Ñ –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ (briefs/{name}.md)
5. –ò–∑–≤–ª–µ–∫–∏ target CPL –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞–º–ø–∞–Ω–∏–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã "–ê–∫—Ç–∏–≤–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏/–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è":
   | –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ | Campaign ID | –¶–µ–ª—å CPL | ...
```

**–ü–∞—Ä—Å–∏–Ω–≥ —Å–µ–∫—Ü–∏–π:**
```
## –ê–∫–∫–∞—É–Ω—Ç N: {name}

- **Account ID**: act_XXX  ‚Üê –∏–∑–≤–ª–µ—á—å
- **Page ID**: XXX         ‚Üê –∏–∑–≤–ª–µ—á—å
- **–ù–∞–∑–≤–∞–Ω–∏–µ**: XXX
- **–°—Ç–∞—Ç—É—Å**: –∞–∫—Ç–∏–≤–µ–Ω      ‚Üê —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ "–∞–∫—Ç–∏–≤–µ–Ω"
```

---

### –®–∞–≥ 3: –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ MCP

**–î–ª—è —É—Ä–æ–≤–Ω—è Account:**
```python
# –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
for account in accounts:
    insights = get_insights(
        object_id=account.account_id,
        time_range=period,
        level="account"
    )
```

**–î–ª—è —É—Ä–æ–≤–Ω—è Campaign (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):**
```python
# 1. –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–∞–º–ø–∞–Ω–∏–π
campaigns = get_campaigns(
    account_id=account_id,
    status_filter="ACTIVE",
    limit=50
)

# 2. –ü–æ–ª—É—á–∏—Ç—å insights –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–∞–º–ø–∞–Ω–∏–π
campaign_insights = get_insights(
    object_id=account_id,
    time_range=period,
    level="campaign"
)
```

**–î–ª—è —É—Ä–æ–≤–Ω—è AdSet (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):**
```python
# 1. –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ adsets
adsets = get_adsets(account_id=account_id, campaign_id=campaign_id)

# 2. –ü–æ–ª—É—á–∏—Ç—å insights –Ω–∞ —É—Ä–æ–≤–Ω–µ adset
adset_insights = get_insights(
    object_id=account_id,
    time_range=period,
    level="adset"
)

# 3. –ü–æ–ª—É—á–∏—Ç—å daily_budget –¥–ª—è –∫–∞–∂–¥–æ–≥–æ adset
for adset in adsets:
    details = get_adset_details(adset_id=adset.id)
    daily_budget = details.daily_budget / 100  # —Ü–µ–Ω—Ç—ã ‚Üí –¥–æ–ª–ª–∞—Ä—ã
```

**–î–ª—è —É—Ä–æ–≤–Ω—è Ad (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):**
```python
# 1. –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ ads
ads = get_ads(account_id=account_id, adset_id=adset_id)

# 2. –ü–æ–ª—É—á–∏—Ç—å insights –Ω–∞ —É—Ä–æ–≤–Ω–µ ad
ad_insights = get_insights(
    object_id=account_id,
    time_range=period,
    level="ad"
)
```

---

### –®–∞–≥ 4: –†–∞—Å—á—ë—Ç –º–µ—Ç—Ä–∏–∫

#### –ë–∞–∑–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (–∏–∑ API)

| –ú–µ—Ç—Ä–∏–∫–∞ | –ü–æ–ª–µ API | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|----------|
| spend | spend | –ó–∞—Ç—Ä–∞—Ç—ã –≤ $ |
| impressions | impressions | –ü–æ–∫–∞–∑—ã |
| clicks | clicks | –ö–ª–∏–∫–∏ |

#### –ü–æ–¥—Å—á—ë—Ç –ª–∏–¥–æ–≤ –∏–∑ actions

```python
def count_leads(actions):
    leads = 0
    messagingLeads = 0
    qualityLeads = 0

    for action in actions:
        action_type = action.get("action_type", "")
        value = int(action.get("value", 0))

        if action_type == "onsite_conversion.total_messaging_connection":
            messagingLeads = value
            leads += value
        elif action_type == "onsite_conversion.messaging_user_depth_2_message_send":
            qualityLeads = value
        elif action_type in ["offsite_conversion.fb_pixel_lead", "onsite_conversion.lead_grouped"]:
            leads += value

    return leads, messagingLeads, qualityLeads
```

#### –ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

**–ë–∞–∑–æ–≤—ã–µ (–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–µ–≥–¥–∞):**
```python
cpl = spend / leads if leads > 0 else None
ctr = (clicks / impressions) * 100 if impressions > 0 else 0
cpm = (spend / impressions) * 1000 if impressions > 0 else 0

# –ü–ª–∞–Ω-—Ñ–∞–∫—Ç (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–ª—è –∫–∞–º–ø–∞–Ω–∏–π)
target_cpl = brief.campaigns[campaign_id].target_cpl  # –∏–∑ –±—Ä–∏—Ñ–∞
cpl_diff = ((cpl - target_cpl) / target_cpl) * 100 if target_cpl and cpl else None  # % –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è
```

**WhatsApp –º–µ—Ç—Ä–∏–∫–∏ (–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –µ—Å–ª–∏ messagingLeads > 0):**
```python
cpql = spend / qualityLeads if qualityLeads > 0 else None
qualityRate = (qualityLeads / messagingLeads) * 100 if messagingLeads > 0 else 0
```

---

### –®–∞–≥ 5: –ê–≥—Ä–µ–≥–∞—Ü–∏—è –≤–≤–µ—Ä—Ö –ø–æ –∏–µ—Ä–∞—Ä—Ö–∏–∏

```
# Ad ‚Üí AdSet
adset.spend = sum(ad.spend for ad in adset.ads)
adset.leads = sum(ad.leads for ad in adset.ads)
# ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

# AdSet ‚Üí Campaign
campaign.spend = sum(adset.spend for adset in campaign.adsets)
campaign.leads = sum(adset.leads for adset in campaign.adsets)
campaign.daily_budget = sum(adset.daily_budget for adset in campaign.adsets if adset.status == "ACTIVE")
# ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

# Campaign ‚Üí Account
account.spend = sum(campaign.spend for campaign in account.campaigns)
account.leads = sum(campaign.leads for campaign in account.campaigns)
# ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
```

---

### –®–∞–≥ 6: –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–≤–æ–¥–∞

–í—ã–≤–µ–¥–∏ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–≥–ª–∞—Å–Ω–æ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–º—É —É—Ä–æ–≤–Ω—é –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏.

---

## –§–æ—Ä–º–∞—Ç—ã —Ç–∞–±–ª–∏—Ü

### –ó–∞–≥–æ–ª–æ–≤–æ–∫ –¥–∞—à–±–æ—Ä–¥–∞

```markdown
# Dashboard
üìÖ –ü–µ—Ä–∏–æ–¥: {since} ‚Äî {until}
```

–ò–ª–∏ –¥–ª—è single day:
```markdown
# Dashboard
üìÖ –ü–µ—Ä–∏–æ–¥: {date}
```

---

### –°–≤–æ–¥–∫–∞ –ø–æ –∞–∫–∫–∞—É–Ω—Ç–∞–º (—É—Ä–æ–≤–µ–Ω—å Account)

```markdown
## –°–≤–æ–¥–∫–∞ –ø–æ –∞–∫–∫–∞—É–Ω—Ç–∞–º

| –ê–∫–∫–∞—É–Ω—Ç | Spend | Leads | CPL | CTR | CPM | –°—Ç–∞—Ç—É—Å |
|---------|------:|------:|----:|----:|----:|--------|
| –ë–∞—Å –¥–µ–Ω—Ç | $450.00 | 120 | $3.75 | 1.2% | $8.50 | ‚úÖ |
| Profimed | $320.00 | 85 | $3.76 | 1.1% | $9.20 | ‚úÖ |
| **–í–°–ï–ì–û** | **$770.00** | **205** | **$3.76** | **1.15%** | **$8.85** | ‚Äî |
```

**–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- Spend: `${value:,.2f}` (–Ω–∞–ø—Ä–∏–º–µ—Ä $1,234.56)
- Leads: —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ
- CPL: `${value:.2f}`
- CTR: `{value:.1f}%`
- CPM: `${value:.2f}`
- –°—Ç–∞—Ç—É—Å: ‚úÖ –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö

---

### –ö–∞–º–ø–∞–Ω–∏–∏ (—É—Ä–æ–≤–µ–Ω—å Campaign)

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –≤—ã–≤–æ–¥–∏ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É:

```markdown
## {Account Name} ‚Äî –ö–∞–º–ø–∞–Ω–∏–∏

| –ö–∞–º–ø–∞–Ω–∏—è | Spend | Leads | CPL | Target | Œî% | Budget | –°—Ç–∞—Ç—É—Å |
|----------|------:|------:|----:|-------:|---:|-------:|--------|
| –ò–º–ø–ª–∞–Ω—Ç—ã | $250.00 | 65 | $3.85 | $4.00 | -4% | $40 | ACTIVE |
| –í–∏–Ω–∏—Ä—ã | $200.00 | 55 | $3.64 | $5.00 | -27% | $30 | ACTIVE |
| **–ò–¢–û–ì–û** | **$450.00** | **120** | **$3.75** | ‚Äî | ‚Äî | **$70** | ‚Äî |
```

**–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Œî% (–ø–ª–∞–Ω-—Ñ–∞–∫—Ç):**
- –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (CPL < Target) = —Ö–æ—Ä–æ—à–æ, –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–∞–∫ –µ—Å—Ç—å: `-4%`
- –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (CPL > Target) = –ø–ª–æ—Ö–æ, –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å: `+15%`
- –ï—Å–ª–∏ –Ω–µ—Ç target –∏–ª–∏ –Ω–µ—Ç –ª–∏–¥–æ–≤ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å `‚Äî`

---

### AdSets (—É—Ä–æ–≤–µ–Ω—å AdSet)

–ü–æ–¥ –∫–∞–∂–¥–æ–π –∫–∞–º–ø–∞–Ω–∏–µ–π:

```markdown
### AdSets ‚Äî {Campaign Name}

| AdSet | Spend | Leads | CPL | CTR | Budget | –°—Ç–∞—Ç—É—Å |
|-------|------:|------:|----:|----:|-------:|--------|
| 30-45_astana | $150.00 | 40 | $3.75 | 1.4% | $25 | ACTIVE |
| 25-35_almaty | $100.00 | 25 | $4.00 | 1.1% | $15 | ACTIVE |
```

---

### Ads (—É—Ä–æ–≤–µ–Ω—å Ad)

–ü–æ–¥ –∫–∞–∂–¥—ã–º AdSet:

```markdown
#### Ads ‚Äî {AdSet Name}

| Ad | Spend | Leads | CPL | CTR | –°—Ç–∞—Ç—É—Å |
|----|------:|------:|----:|----:|--------|
| video_1_kitchen | $80.00 | 22 | $3.64 | 1.5% | ACTIVE |
| video_2_doctor | $70.00 | 18 | $3.89 | 1.3% | ACTIVE |
```

---

### WhatsApp –º–µ—Ç—Ä–∏–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —É –∫–∞–∫–æ–≥–æ-—Ç–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –µ—Å—Ç—å messagingLeads > 0, –¥–æ–±–∞–≤—å —Å–µ–∫—Ü–∏—é:

```markdown
## WhatsApp Quality

| –ê–∫–∫–∞—É–Ω—Ç | Msg Leads | Quality Leads | CPQL | Quality Rate |
|---------|----------:|--------------:|-----:|-------------:|
| Profimed | 85 | 42 | $7.62 | 49.4% |
```

---

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```markdown
‚ö†Ô∏è –ê–∫–∫–∞—É–Ω—Ç {name}: –æ—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ ‚Äî –ø—Ä–æ–ø—É—â–µ–Ω
```

```markdown
‚ÑπÔ∏è {name}: –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥
```

---

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –î–∞—à–±–æ—Ä–¥ –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –ø–µ—Ä–∏–æ–¥–∞

**–ó–∞–ø—Ä–æ—Å:** "–ü–æ–∫–∞–∂–∏ –¥–∞—à–±–æ—Ä–¥" –∏–ª–∏ `/dashboard`

**–ü–∞—Ä—Å–∏–Ω–≥:**
- –ü–µ—Ä–∏–æ–¥: yesterday (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- –ê–∫–∫–∞—É–Ω—Ç—ã: –≤—Å–µ
- –£—Ä–æ–≤–µ–Ω—å: campaign (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –ß–∏—Ç–∞—é ad_accounts.md ‚Üí –∞–∫—Ç–∏–≤–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã
2. –ß–∏—Ç–∞—é –±—Ä–∏—Ñ—ã –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ ‚Üí target CPL –¥–ª—è –∫–∞–º–ø–∞–Ω–∏–π
3. get_insights –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ (level="campaign", time_range="yesterday")
4. –§–æ—Ä–º–∏—Ä—É—é —Ç–∞–±–ª–∏—Ü—ã —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏ Target –∏ Œî%

---

### –ë–∞–∑–æ–≤—ã–π –¥–∞—à–±–æ—Ä–¥

**–ó–∞–ø—Ä–æ—Å:** "–ü–æ–∫–∞–∂–∏ –¥–∞—à–±–æ—Ä–¥ –∑–∞ –≤—á–µ—Ä–∞"

**–ü–∞—Ä—Å–∏–Ω–≥:**
- –ü–µ—Ä–∏–æ–¥: yesterday
- –ê–∫–∫–∞—É–Ω—Ç—ã: –≤—Å–µ
- –£—Ä–æ–≤–µ–Ω—å: campaign (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –ß–∏—Ç–∞—é ad_accounts.md ‚Üí 2 –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–∞
2. get_insights(act_805414428109857, "yesterday", "campaign")
3. get_insights(act_1106872004544227, "yesterday", "campaign")
4. –§–æ—Ä–º–∏—Ä—É—é —Å–≤–æ–¥–Ω—É—é —Ç–∞–±–ª–∏—Ü—É + —Ç–∞–±–ª–∏—Ü—ã –∫–∞–º–ø–∞–Ω–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞

---

### –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç —Å –∫–∞–º–ø–∞–Ω–∏—è–º–∏

**–ó–∞–ø—Ä–æ—Å:** "–î–∞—à–±–æ—Ä–¥ Profimed –∑–∞ 7 –¥–Ω–µ–π —Å –∫–∞–º–ø–∞–Ω–∏—è–º–∏"

**–ü–∞—Ä—Å–∏–Ω–≥:**
- –ü–µ—Ä–∏–æ–¥: last_7d
- –ê–∫–∫–∞—É–Ω—Ç—ã: Profimed (act_1106872004544227)
- –£—Ä–æ–≤–µ–Ω—å: campaign

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –ß–∏—Ç–∞—é ad_accounts.md ‚Üí –Ω–∞—Ö–æ–∂—É Profimed
2. get_campaigns(act_1106872004544227, "ACTIVE")
3. get_insights(act_1106872004544227, "last_7d", "campaign")
4. –§–æ—Ä–º–∏—Ä—É—é —Ç–∞–±–ª–∏—Ü—É –∞–∫–∫–∞—É–Ω—Ç–∞ + —Ç–∞–±–ª–∏—Ü—É –∫–∞–º–ø–∞–Ω–∏–π

---

### –ü–æ–ª–Ω—ã–π –¥–∞—à–±–æ—Ä–¥

**–ó–∞–ø—Ä–æ—Å:** "–ü–æ–ª–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ –∑–∞ –º–µ—Å—è—Ü"

**–ü–∞—Ä—Å–∏–Ω–≥:**
- –ü–µ—Ä–∏–æ–¥: last_30d
- –ê–∫–∫–∞—É–Ω—Ç—ã: –≤—Å–µ
- –£—Ä–æ–≤–µ–Ω—å: ad

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –ß–∏—Ç–∞—é ad_accounts.md ‚Üí –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞:
   - get_campaigns() ‚Üí —Å–ø–∏—Å–æ–∫ –∫–∞–º–ø–∞–Ω–∏–π
   - get_adsets() ‚Üí —Å–ø–∏—Å–∫–∏ adsets –ø–æ –∫–∞–º–ø–∞–Ω–∏—è–º
   - get_ads() ‚Üí —Å–ø–∏—Å–∫–∏ ads –ø–æ adsets
   - get_insights(level="ad") ‚Üí –º–µ—Ç—Ä–∏–∫–∏ –ø–æ ads
   - get_adset_details() ‚Üí –±—é–¥–∂–µ—Ç—ã
3. –§–æ—Ä–º–∏—Ä—É—é –ø–æ–ª–Ω—É—é –∏–µ—Ä–∞—Ä—Ö–∏—é —Ç–∞–±–ª–∏—Ü

---

### Custom –ø–µ—Ä–∏–æ–¥

**–ó–∞–ø—Ä–æ—Å:** "–î–∞—à–±–æ—Ä–¥ —Å 2026-01-10 –ø–æ 2026-01-20"

**–ü–∞—Ä—Å–∏–Ω–≥:**
- –ü–µ—Ä–∏–æ–¥: {"since": "2026-01-10", "until": "2026-01-20"}
- –ê–∫–∫–∞—É–Ω—Ç—ã: –≤—Å–µ
- –£—Ä–æ–≤–µ–Ω—å: campaign (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

---

## –ß–µ–∫-–ª–∏—Å—Ç

- [ ] –ü—Ä–æ—á–∏—Ç–∞–Ω ad_accounts.md
- [ ] –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–ø–µ—Ä–∏–æ–¥, –∞–∫–∫–∞—É–Ω—Ç—ã, —É—Ä–æ–≤–µ–Ω—å)
- [ ] –ü–æ–ª—É—á–µ–Ω—ã insights –¥–ª—è –Ω—É–∂–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è
- [ ] –†–∞—Å—Å—á–∏—Ç–∞–Ω—ã –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (CPL, CTR, CPM)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã WhatsApp –º–µ—Ç—Ä–∏–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å messagingLeads)
- [ ] –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω—ã —Ç–∞–±–ª–∏—Ü—ã –ø–æ —à–∞–±–ª–æ–Ω–∞–º
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞ –ò–¢–û–ì–û –¥–ª—è –≥—Ä—É–ø–ø

---

## MCP –∫–æ–º–∞–Ω–¥—ã

### –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

```python
# –°–ø–∏—Å–æ–∫ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø)
get_ad_accounts(limit=10)

# –ö–∞–º–ø–∞–Ω–∏–∏ –∞–∫–∫–∞—É–Ω—Ç–∞
get_campaigns(account_id, status_filter="ACTIVE", limit=50)

# AdSets –∞–∫–∫–∞—É–Ω—Ç–∞ –∏–ª–∏ –∫–∞–º–ø–∞–Ω–∏–∏
get_adsets(account_id, campaign_id=None, limit=50)

# Ads –∞–∫–∫–∞—É–Ω—Ç–∞ –∏–ª–∏ adset
get_ads(account_id, adset_id=None, limit=50)

# –ú–µ—Ç—Ä–∏–∫–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥
get_insights(
    object_id,           # account_id –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π ID
    time_range,          # "yesterday" –∏–ª–∏ {"since": "...", "until": "..."}
    level="account"      # account | campaign | adset | ad
)

# –î–µ—Ç–∞–ª–∏ adset (–¥–ª—è –±—é–¥–∂–µ—Ç–∞)
get_adset_details(adset_id)
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã

| –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| `today` | –°–µ–≥–æ–¥–Ω—è |
| `yesterday` | –í—á–µ—Ä–∞ |
| `last_3d` | –ü–æ—Å–ª–µ–¥–Ω–∏–µ 3 –¥–Ω—è |
| `last_7d` | –ü–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π |
| `last_14d` | –ü–æ—Å–ª–µ–¥–Ω–∏–µ 14 –¥–Ω–µ–π |
| `last_30d` | –ü–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π |
| `this_month` | –¢–µ–∫—É—â–∏–π –º–µ—Å—è—Ü |
| `last_month` | –ü—Ä–æ—à–ª—ã–π –º–µ—Å—è—Ü |
| `{"since": "YYYY-MM-DD", "until": "YYYY-MM-DD"}` | Custom |
