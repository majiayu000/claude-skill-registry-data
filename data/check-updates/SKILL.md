---
name: check-updates
description: 更新可能なプラグインがあるか確認する。「更新があるか確認」「アップデート確認」「新しいバージョン」「更新チェック」「アップデートあるか」「プラグインの更新確認」「最新版があるか」などで起動。
---

# Plugin Update Checker

インストール済みプラグインの更新があるか確認します。

## ワークフロー

### 1. 最新バージョンの取得

`.claude-plugin/marketplace.json` から全プラグインの最新バージョンを取得します。

```bash
# marketplace.json を読み取り
cat .claude-plugin/marketplace.json
```

### 2. 現在バージョンの取得

インストール済みプラグインの現在バージョンを取得します。

```bash
# 各プラグインの plugin.json を読み取り
cat plugins/{plugin-name}/.claude-plugin/plugin.json
```

### 3. バージョン比較

現在バージョンと最新バージョンを比較し、更新可能なプラグインを特定します。

### 4. 結果の表示

更新可能なプラグインがある場合と、すべて最新の場合で出力を分けます。

## 出力フォーマット

### 更新可能なプラグインがある場合

```
## 更新チェック結果

更新可能なプラグイン:

| プラグイン | 現在 | 最新 |
|-----------|------|------|
| shiiman-git | 1.0.0 | 1.1.0 |
| shiiman-claude | 1.0.0 | 1.1.0 |

更新するには「プラグインを更新」または `/shiiman-plugin:update` を実行してください。
一括更新は `/shiiman-plugin:update --all` で実行できます。
```

### すべて最新の場合

```
## 更新チェック結果

✅ すべてのプラグインは最新です。

インストール済みプラグイン:
- shiiman-plugin: 1.2.0
- shiiman-git: 1.1.0
- shiiman-claude: 1.1.0
```

## 重要な注意事項

- ✅ marketplace.json から最新バージョンを取得
- ✅ インストール済みプラグインのみをチェック
- ✅ 更新がある場合は更新コマンドを案内
- ✅ すべて最新の場合はその旨を明確に表示
