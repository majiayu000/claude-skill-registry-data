---
name: tmux Ã— iTerm2 Integration
description: Miyabi tmux ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ»ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¨iTerm2ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«çµ±åˆã€‚Agentåˆ¥ã‚«ãƒ©ãƒ¼ãƒ†ãƒ¼ãƒã€çŠ¶æ…‹ç›£è¦–ã€è‡ªå‹•ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«åˆ‡ã‚Šæ›¿ãˆã‚’æä¾›ã€‚
allowed-tools: Bash, Read, Write, Edit, Grep, Glob
---

# ğŸ­ tmux Ã— iTerm2 Integration

**Version**: 2.0.0
**Last Updated**: 2025-11-22
**Priority**: â­â­â­â­ (P1 Level)
**Purpose**: ãƒãƒ«ãƒAgentè¦–è¦šåŒ–ã¨tmuxçµ±åˆã«ã‚ˆã‚‹ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

---

## ğŸ“‹ æ¦‚è¦

Miyabiãƒãƒ«ãƒAgentã‚·ã‚¹ãƒ†ãƒ ã¨iTerm2ã®Dynamic Profilesã‚’çµ±åˆã—ã€
è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã¨UI/UXå‘ä¸Šã‚’å®Ÿç¾ã—ã¾ã™ã€‚

---

## ğŸ¯ P0: å‘¼ã³å‡ºã—ãƒˆãƒªã‚¬ãƒ¼

| ãƒˆãƒªã‚¬ãƒ¼ | ä¾‹ |
|---------|-----|
| ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆ | "create tmux session for issue" |
| Agentè‰²åˆ†ã‘ | "color-coded agent panes" |
| çŠ¶æ…‹ç›£è¦– | "monitor agent status" |
| ãƒšã‚¤ãƒ³è¿½åŠ  | "add new agent pane" |
| é…ä¿¡æº–å‚™ | "YouTube Live setup" |

---

## ğŸ”§ P1: ã‚³ãƒãƒ³ãƒ‰ä¸€è¦§

### åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰ï¼ˆ5å€‹ï¼‰

| ã‚³ãƒãƒ³ãƒ‰ | ç”¨é€” | é »åº¦ |
|---------|------|------|
| `miyabi-start <issue>` | Issueå‡¦ç†é–‹å§‹ï¼ˆ5ãƒšã‚¤ãƒ³è‡ªå‹•ä½œæˆï¼‰ | é«˜ |
| `miyabi-list` | ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ»ãƒšã‚¤ãƒ³ä¸€è¦§ | é«˜ |
| `miyabi-assign <pane> <agent>` | ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«å‰²ã‚Šå½“ã¦ | ä¸­ |
| `miyabi-switch <pane> <profile>` | ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«åˆ‡ã‚Šæ›¿ãˆ | ä½ |
| `miyabi-help` | ãƒ˜ãƒ«ãƒ—è¡¨ç¤º | ä½ |

### ç›£è¦–ã‚³ãƒãƒ³ãƒ‰ï¼ˆ3å€‹ï¼‰

| ã‚³ãƒãƒ³ãƒ‰ | ç”¨é€” | é »åº¦ |
|---------|------|------|
| `miyabi-monitor-start <session>` | çŠ¶æ…‹ç›£è¦–é–‹å§‹ï¼ˆè‡ªå‹•åˆ‡æ›¿ï¼‰ | ä¸­ |
| `miyabi-monitor-stop` | çŠ¶æ…‹ç›£è¦–åœæ­¢ | ä½ |
| `miyabi-monitor <pane> <agent>` | å˜ä¸€ãƒšã‚¤ãƒ³ç›£è¦– | ä½ |

### ãƒšã‚¤ãƒ³æ“ä½œï¼ˆ3å€‹ï¼‰

| ã‚³ãƒãƒ³ãƒ‰ | ç”¨é€” | é »åº¦ |
|---------|------|------|
| `miyabi-add <agent> [v\|h]` | ãƒšã‚¤ãƒ³è¿½åŠ ï¼ˆv=ç¸¦, h=æ¨ªï¼‰ | ä¸­ |
| `miyabi-add-multi <count> <agent>` | è¤‡æ•°ãƒšã‚¤ãƒ³ä¸€æ‹¬è¿½åŠ  | ä½ |
| `miyabi-agents` | åˆ©ç”¨å¯èƒ½Agentä¸€è¦§ | ä½ |

---

## ğŸš€ P2: Agentåˆ¥ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«

### Agent Typesï¼ˆ5ç¨®ï¼‰

| Agent | ã‚¢ã‚¤ã‚³ãƒ³ | èƒŒæ™¯è‰² | ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ | ç”¨é€” |
|-------|---------|--------|---------------|------|
| **coordinator** | ğŸ‘‘ | ç´« (#1A0F2E) | âŒ˜7 | å…¨ä½“çµ±æ‹¬ãƒ»ã‚¿ã‚¹ã‚¯å‰²ã‚Šå½“ã¦ |
| **codegen** | âš™ï¸ | ç·‘ (#0F2E1A) | âŒ˜8 | ã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ»å®Ÿè£… |
| **review** | ğŸ” | ã‚ªãƒ¬ãƒ³ã‚¸ (#2E1F0F) | âŒ˜9 | ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»å“è³ª |
| **debug** | ğŸ› | èµ¤ (#2E0F0F) | âŒ˜0 | ãƒ‡ãƒãƒƒã‚°ãƒ»ã‚¨ãƒ©ãƒ¼è§£æ |
| **deploy** | ğŸš€ | é’ (#0F1F2E) | âŒ˜- | ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ |

### ä¸€èˆ¬ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ6ç¨®ï¼‰

| ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ« | ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ | é€éåº¦ | ãƒ•ã‚©ãƒ³ãƒˆ | ç”¨é€” |
|-------------|---------------|--------|---------|------|
| Miyabi Minimal | âŒ˜1 | 35% | 18pt | æœã®ä½œæ¥­ |
| Miyabi Focus | âŒ˜2 | 10% | 19pt | é›†ä¸­ä½œæ¥­ |
| Miyabi Vibrant | âŒ˜3 | 25% | 18pt | æ´»ç™ºãªä½œæ¥­ |
| Miyabi Night | âŒ˜4 | 5% | 18pt | å¤œé–“ä½œæ¥­ |
| Miyabi Live | âŒ˜5 | 0% | 20pt | YouTubeé…ä¿¡ |
| Miyabi Designer | âŒ˜6 | 18% | 19pt | UI/UXè¨­è¨ˆ |

---

## âš¡ P3: ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ä¾‹

### Example 1: Issueå‡¦ç†ãƒ•ãƒ«è‡ªå‹•åŒ–

```bash
# Step 1: ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆèª­ã¿è¾¼ã¿
source ~/scripts/miyabi-shortcuts.sh

# Step 2: Issueå‡¦ç†é–‹å§‹
miyabi-start 789

# Step 3: ç›£è¦–é–‹å§‹
miyabi-monitor-start miyabi-issue-789

# Step 4: ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¢ã‚¿ãƒƒãƒ
tmux attach -t miyabi-issue-789

# ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ:
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚ ğŸ‘‘ Coord     â”‚ âš™ï¸  CodeGen   â”‚
# â”‚   (ç´«)       â”‚   (ç·‘)       â”‚
# â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
# â”‚ ğŸ› Debug     â”‚ ğŸ” Review    â”‚
# â”‚   (èµ¤)       â”‚ (ã‚ªãƒ¬ãƒ³ã‚¸)    â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Example 2: æ—¢å­˜ã‚»ãƒƒã‚·ãƒ§ãƒ³æ‹¡å¼µ

```bash
# ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¢ã‚¿ãƒƒãƒ
tmux attach

# CodeGenãƒšã‚¤ãƒ³è¿½åŠ 
miyabi-add codegen

# Reviewãƒšã‚¤ãƒ³3ã¤è¿½åŠ 
miyabi-add-multi 3 review

# ãƒšã‚¤ãƒ³%5ã‚’Debugãƒ¢ãƒ¼ãƒ‰ã«
miyabi-assign %5 debug
```

### Example 3: YouTube Liveé…ä¿¡

```bash
# é…ä¿¡ãƒ¢ãƒ¼ãƒ‰é–‹å§‹
miyabi-live-start
# â†’ é€é0%ã€ãƒ•ã‚©ãƒ³ãƒˆ20ptã€èµ¤ã‚«ãƒ¼ã‚½ãƒ«

# Issueå‡¦ç†ãƒ‡ãƒ¢
miyabi-start 789

# é…ä¿¡çµ‚äº†
miyabi-live-end
# â†’ å…ƒã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã«å¾©å¸°
```

---

## ğŸ“Š çŠ¶æ…‹ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ 

### æ¤œå‡ºãƒ‘ã‚¿ãƒ¼ãƒ³

| çŠ¶æ…‹ | æ¤œå‡ºãƒ‘ã‚¿ãƒ¼ãƒ³ | ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ« | é€šçŸ¥ |
|------|-------------|-------------|------|
| **Error** | `error\|failed\|panic` | Debug (èµ¤) | ğŸ› ã‚¨ãƒ©ãƒ¼ |
| **Complete** | `complete\|success\|done` | Vibrant (ç·‘) | âœ… å®Œäº† |
| **Running** | `processing\|building` | Focus | - |
| **Waiting** | `waiting\|pending` | Night | - |
| **Idle** | (ãã®ä»–) | Minimal | - |

### ç›£è¦–ãƒ­ã‚°

```
/tmp/miyabi-monitor/
â””â”€â”€ pane_<id>.txt  # å„ãƒšã‚¤ãƒ³ã®ã‚­ãƒ£ãƒ—ãƒãƒ£ãƒ­ã‚°
```

---

## ğŸ›¡ï¸ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«åˆ‡ã‚Šæ›¿ãˆå¤±æ•—

```bash
# iTerm2å†èµ·å‹•
killall cfprefsd && \
osascript -e 'quit app "iTerm"' && \
sleep 2 && \
open -a iTerm
```

### ã‚»ãƒƒã‚·ãƒ§ãƒ³è¦‹ã¤ã‹ã‚‰ãªã„

```bash
# ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸€è¦§ç¢ºèª
tmux list-sessions

# æ–°è¦ä½œæˆ
miyabi-start <issue_number>
```

### ãƒšã‚¤ãƒ³IDä¸æ˜

```bash
# å…¨ãƒšã‚¤ãƒ³IDè¡¨ç¤º
miyabi-list
# ã¾ãŸã¯
tmux list-panes -a
```

---

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«é…ç½®

### ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«è¨­å®š

```
~/Library/Application Support/iTerm2/DynamicProfiles/
â””â”€â”€ MiyabiProfiles.json (11ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«)
```

### ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```
~/scripts/
â”œâ”€â”€ miyabi-tmux-iterm-integration.sh  # ãƒ¡ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ miyabi-agent-monitor.sh           # çŠ¶æ…‹ç›£è¦–
â”œâ”€â”€ miyabi-add-pane.sh                # ãƒšã‚¤ãƒ³è¿½åŠ 
â”œâ”€â”€ miyabi-shortcuts.sh               # ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ
â”œâ”€â”€ miyabi-profile-switcher.sh        # æ™‚é–“åˆ¥åˆ‡æ›¿
â”œâ”€â”€ miyabi-live-start.sh              # é…ä¿¡é–‹å§‹
â””â”€â”€ miyabi-live-end.sh                # é…ä¿¡çµ‚äº†
```

---

## âœ… åŠ¹æœæ¸¬å®š

| æŒ‡æ¨™ | å¾“æ¥ | ç¾åœ¨ | æ”¹å–„ç‡ |
|------|------|------|--------|
| Agentè­˜åˆ¥æ™‚é–“ | 5ç§’ | 1ç§’ | **80%çŸ­ç¸®** |
| ã‚¨ãƒ©ãƒ¼ç™ºè¦‹æ™‚é–“ | 30ç§’ | 3ç§’ | **90%çŸ­ç¸®** |
| ãƒšã‚¤ãƒ³ä½œæˆæ™‚é–“ | 2åˆ† | 10ç§’ | **91%çŸ­ç¸®** |
| ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«åˆ‡æ›¿ | æ‰‹å‹• | è‡ªå‹• | **100%è‡ªå‹•åŒ–** |

---

## ğŸ”— é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | ç”¨é€” |
|-------------|------|
| `MIYABI_ITERM2_INTEGRATION_PLAN.md` | è©³ç´°è¨­è¨ˆæ›¸ |
| `MIYABI_QUICK_REFERENCE.md` | ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ |
| `context/rust-tool-use-rules.md` | MCP Toolæœ€é©åŒ– |

---

## ğŸ“ é–¢é€£Skills

- **Agent Execution**: Agentå®Ÿè¡Œã¨ã®é€£æº
- **Rust Development**: ãƒ“ãƒ«ãƒ‰çŠ¶æ…‹ã®è¦–è¦šåŒ–
- **Debugging**: ã‚¨ãƒ©ãƒ¼æ™‚ã®è‡ªå‹•ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«åˆ‡æ›¿
