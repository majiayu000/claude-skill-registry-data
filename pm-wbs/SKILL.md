---
name: pm-wbs
description: WBS（作業分解構造）作成エージェント。プロジェクトの作業を階層的に分解し、タスク一覧、見積もり、依存関係を定義。キーワード: WBS, Work Breakdown Structure, 作業分解, タスク分解, 見積もり, estimate.
---

# WBS作成エージェント

## 役割
プロジェクトの作業を階層的に分解し、管理可能なタスク単位に整理します。

## WBS構成

```
docs/pm/
├── wbs/
│   ├── WBS.md                   # WBS全体
│   ├── estimates.md             # 見積もり一覧
│   └── dependencies.md          # 依存関係
├── schedule/                    # スケジュール
├── resources/                   # リソース計画
└── risks/                       # リスク管理
```

## WBSテンプレート

### WBS全体 (WBS.md)

```markdown
# WBS（作業分解構造）

## プロジェクト情報
| 項目 | 内容 |
|------|------|
| プロジェクト名 | [名称] |
| 作成日 | YYYY-MM-DD |
| 更新日 | YYYY-MM-DD |
| 作成者 | [PM名] |

---

## WBS階層構造

### 1. プロジェクト管理
| ID | タスク | 担当 | 見積(h) | 依存 |
|----|--------|------|---------|------|
| 1.1 | キックオフ | PM | 4 | - |
| 1.2 | 進捗管理 | PM | 40 | 1.1 |
| 1.3 | 課題管理 | PM | 20 | 1.1 |
| 1.4 | 完了報告 | PM | 4 | ALL |

### 2. 要件定義
| ID | タスク | 担当 | 見積(h) | 依存 |
|----|--------|------|---------|------|
| 2.1 | 要件ヒアリング | BA | 16 | 1.1 |
| 2.2 | PRD作成 | BA | 24 | 2.1 |
| 2.3 | ユースケース作成 | BA | 16 | 2.2 |
| 2.4 | 要件レビュー | ALL | 8 | 2.3 |

### 3. 設計
| ID | タスク | 担当 | 見積(h) | 依存 |
|----|--------|------|---------|------|
| 3.1 | 画面設計 | UI/UX | 24 | 2.4 |
| 3.2 | 基本設計 | Arch | 32 | 2.4 |
| 3.3 | 詳細設計 | Dev | 40 | 3.2 |
| 3.4 | API設計 | Dev | 24 | 3.2 |
| 3.5 | DB設計 | Dev | 16 | 3.3 |
| 3.6 | 設計レビュー | ALL | 8 | 3.5 |

### 4. 実装
| ID | タスク | 担当 | 見積(h) | 依存 |
|----|--------|------|---------|------|
| 4.1 | 環境構築 | Dev | 8 | 3.6 |
| 4.2 | フロントエンド実装 | FE | 80 | 4.1 |
| 4.3 | バックエンド実装 | BE | 80 | 4.1 |
| 4.4 | DB実装 | BE | 16 | 3.5 |
| 4.5 | 結合 | Dev | 16 | 4.2, 4.3 |

### 5. テスト
| ID | タスク | 担当 | 見積(h) | 依存 |
|----|--------|------|---------|------|
| 5.1 | 単体テスト | Dev | 40 | 4.2, 4.3 |
| 5.2 | 結合テスト | QA | 24 | 4.5 |
| 5.3 | E2Eテスト | QA | 24 | 5.2 |
| 5.4 | UAT | User | 16 | 5.3 |

### 6. リリース
| ID | タスク | 担当 | 見積(h) | 依存 |
|----|--------|------|---------|------|
| 6.1 | リリース準備 | Ops | 8 | 5.4 |
| 6.2 | デプロイ | Ops | 4 | 6.1 |
| 6.3 | 本番確認 | ALL | 4 | 6.2 |

---

## サマリー

| フェーズ | タスク数 | 合計見積(h) | 人日換算 |
|---------|---------|------------|---------|
| 1. PM | 4 | 68 | 8.5 |
| 2. 要件定義 | 4 | 64 | 8 |
| 3. 設計 | 6 | 144 | 18 |
| 4. 実装 | 5 | 200 | 25 |
| 5. テスト | 4 | 104 | 13 |
| 6. リリース | 3 | 16 | 2 |
| **合計** | **26** | **596** | **74.5** |

※1人日 = 8時間で計算
```

### WBS図（Mermaid）

```markdown
## WBS図

graph TD
    P[プロジェクト]
    P --> PM[1. PM]
    P --> REQ[2. 要件定義]
    P --> DES[3. 設計]
    P --> IMP[4. 実装]
    P --> TST[5. テスト]
    P --> REL[6. リリース]

    PM --> PM1[1.1 キックオフ]
    PM --> PM2[1.2 進捗管理]
    PM --> PM3[1.3 課題管理]
    PM --> PM4[1.4 完了報告]

    REQ --> REQ1[2.1 ヒアリング]
    REQ --> REQ2[2.2 PRD作成]
    REQ --> REQ3[2.3 UC作成]
    REQ --> REQ4[2.4 レビュー]

    DES --> DES1[3.1 画面設計]
    DES --> DES2[3.2 基本設計]
    DES --> DES3[3.3 詳細設計]
    DES --> DES4[3.4 API設計]

    IMP --> IMP1[4.1 環境構築]
    IMP --> IMP2[4.2 FE実装]
    IMP --> IMP3[4.3 BE実装]

    TST --> TST1[5.1 単体テスト]
    TST --> TST2[5.2 結合テスト]
    TST --> TST3[5.3 E2Eテスト]
```

## 見積もりガイドライン

### 見積もり手法
| 手法 | 用途 | 精度 |
|------|------|------|
| 類推見積もり | 過去の類似案件から推定 | ±30% |
| 三点見積もり | 楽観・最頻・悲観の加重平均 | ±15% |
| ファンクションポイント | 機能数から算出 | ±10% |

### 三点見積もり公式
```
期待値 = (楽観値 + 4×最頻値 + 悲観値) / 6
標準偏差 = (悲観値 - 楽観値) / 6
```

### バッファ設計
| リスクレベル | バッファ率 |
|-------------|-----------|
| 低リスク | +10% |
| 中リスク | +20% |
| 高リスク | +30% |
| 不確実性高 | +50% |

## 依存関係の種類

| 種類 | 記号 | 説明 |
|------|------|------|
| FS (Finish-to-Start) | → | 先行完了後に開始 |
| SS (Start-to-Start) | ⇉ | 同時開始 |
| FF (Finish-to-Finish) | ⇶ | 同時完了 |
| SF (Start-to-Finish) | ← | 先行開始後に完了 |

## クリティカルパス分析

```markdown
## クリティカルパス

1.1 → 2.1 → 2.2 → 2.3 → 2.4 → 3.2 → 3.3 → 3.5 → 4.1 → 4.3 → 4.5 → 5.2 → 5.3 → 5.4 → 6.1 → 6.2 → 6.3

クリティカルパス所要時間: **312時間 (39人日)**
```

## 出力形式

WBS作成時の成果物：

1. **WBS文書**: `docs/pm/wbs/WBS.md`
2. **見積もり一覧**: `docs/pm/wbs/estimates.md`
3. **依存関係図**: `docs/pm/wbs/dependencies.md`
4. **クリティカルパス**: WBS文書内に記載

## 関連スキル

- スケジュール管理エージェント: WBSをガントチャートに展開
- リソース計画エージェント: タスクにリソースを割り当て
- リスク管理エージェント: タスクのリスク評価
